
  
  Commentaires sur le script JSDoc
  Si vous souhaitez que vos fonctions personnalisées soient complétées par du code et que les arguments requis soient affichés de manière spécifique dans l'éditeur de code, vous devez ajouter des commentaires de style JSDoc. Ces commentaires sont utilisés pour indiquer à la fonction de complétion automatique comment la fonction doit être utilisée et remplie dans l'éditeur de script.
  Le format d'un en-tête de fonction typique est le suivant : le nom de la fonction, la description de la fonction, puis la liste des différents arguments (paramètres) que prend la fonction, en veillant à commencer chaque ligne par un triple backslash "
    /// ", car cela indique à GameMaker Studio 2 d' analyser le commentaire comme étant de style JSDoc. Les commentaires eux-mêmes doivent recevoir un identifiant (précédé de "@") et un contenu.
    disponibles sont les suivants :
   
  
    
      
        Identifiant
        Contenu
      
      
        @function / @func
        Le nom complet de la fonction et les arguments de la fonction, par exemple :
          my_func(x, y, colour).
      
      
        @description / @desc
        Une description générale de ce que fait la fonction.
      
      
        @param / @arg / @argument
        Le type d'argument (facultatif), entouré de {}, le nom de l'argument et une brève description (entrecoupée d'espaces).
      
    
  
   
  Pour avoir une idée de la façon dont cela fonctionne lorsque vous écrivez vos propres fonctions, prenons cet exemple de base :
  function is_same_object(_id, _obj) {
     if (_id.object_index == _obj) { return true ; }  else return false ; }
  
  Tout ce que fait ce script est de vérifier si une instance a la même object_index qu'un objet donné et serait appelé simplement comme :
  if is_same_object(id, obj_Player) {
     instance_destroy() }
  
  Cependant, si vous écrivez cela dans l'éditeur de code, vous verrez directement les noms des variables des arguments(_id et _obj), ce qui, dans la plupart des cas, n'est pas très descriptif. Vous pouvez utiliser JSDoc pour définir des noms d'arguments et des descriptions personnalisées, ainsi que des informations sur la fonction.
    ainsi que des informations sur la fonction :
  /// @function is_same_object(id, object) /// @description Compare un index d'instance avec un index d'objet. /// @param {real} inst_id La valeur unique de l'ID de l'instance à vérifier. /// @param {real}
    object_id L'index d'objet à vérifier.
     function is_same_object(_id, _obj) {
     if (_id.object_index == _obj) { return true ; }  else return false ; }
  
  Maintenant, lorsque vous appelez cette fonction n'importe où dans votre projet, vous verrez les nouveaux noms d'arguments qui ont été entrés dans les commentaires JSDoc :
  
  Dans l'image ci-dessus, la partie supérieure montre la fonction dans l'auto-complétion et la partie inférieure montre comment fonctionne l'aide d'argument en bas. Notez que les parties optionnelles "type" et obligatoires "description" de @param ne sont pas affichées par défaut dans le code complet de l'IDE, et que pour les voir, vous devez activer les options dans les préférences GML.
  Vous pouvez entourer le nom d'un argument de crochets [] pour indiquer qu'il est facultatif. L'éditeur de code attendra alors n'importe quel nombre d'arguments entre le nombre minimum d'arguments requis et le nombre total d'arguments. Par exemple, voir l'exemple suivant
    fonction :
  /// @function animate_position(end_x, end_y, start_x, start_y) /// @desc Anime l'instance jusqu'au point de fin, à partir d'un point de départ facultatif /// @arg end_x /// @arg end_y /// @arg [start_x] /// @arg [start_y]
     function animate_position (x1, y1, x2, y2) {
     // Code de la fonction }
  
  Les arguments start_x et start_y sont marqués comme facultatifs, ce qui signifie que l'éditeur de code s'attend maintenant à 2 à 4 arguments, comme on peut le voir dans le message d'avertissement :
  
  REMARQUE: vous obtiendrez le même comportement si vous utilisez des arguments facultatifs dans la déclaration de la fonction. Voir les fonctions de script pour plus d'informations.
  Comme les scripts peuvent contenir plusieurs fonctions, vous pouvez ajouter des commentaires JSDoc pour chacune d'entre elles avant sa déclaration :
  
   
   
  
    
      
        Retour : L'éditeur de script
        Suivant : Extraits de code
      
    
    Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

