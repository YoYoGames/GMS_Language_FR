
  
  Image chargée
  Cet événement est déclenché lorsque vous chargez une image dans GameMaker Studio 2, soit en HTML5, soit via une URL. Par exemple, supposons que vous souhaitiez charger une image de sprite et ne remplacer le sprite actuel de l'instance par le nouveau qu'après le chargement. Vous auriez quelque chose comme ceci dans l'événement Create (ou tout autre événement) :
  var _url = "http://www.angusgames.com/game/background1.png" ; spr = sprite_add(_url, 0, false, false, 0, 0) ;
  Le chargement de l'image dans l'appareil ou le navigateur va commencer, mais GameMaker Studio 2 ne sera pas bloqué pendant qu'il attendra que le fichier soit chargé. Au lieu de cela, GameMaker Studio 2 continuera à fonctionner normalement jusqu'à ce que l'image soit chargée et que la callback déclenche l'événement Image Loaded Event, où une carte DS Map est créée et stockée dans la variable spéciale
    async_load. La carte contient les informations suivantes :
  
    "filename" : Le chemin complet du fichier que vous avez demandé.
    "id" : L'ID de la ressource que vous avez chargée. Ce sera le même que celui de la variable à laquelle vous avez attribué la ressource.
    "status" : Renvoie une valeur inférieure à 0 en cas d'erreur.
  
  Vous pouvez ensuite affecter l'image nouvellement chargée à un sprite dans cet événement. L'exemple de code suivant montre comment utiliser les informations renvoyées :
  if ds_map_find_value(async_load, "id") == spr {
     if ds_map_find_value(async_load, "status") >= 0 { sprite_index = spr ; }  }
  
  Le code ci-dessus vérifiera d'abord le id de la carte DS qui a été créée, puis le status de la callback. Si la valeur est supérieure ou égale à 0 (signalant le succès), le résultat de la callback sera alors utilisé pour définir l'index du sprite à l'image nouvellement chargée.
    la callback sera alors utilisé pour définir l'index du sprite à l'image nouvellement chargée.
   
   
   
  
    
      
        Retour : Événements asynchrones
        Suivant : Mise en réseau
      
    
    Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

