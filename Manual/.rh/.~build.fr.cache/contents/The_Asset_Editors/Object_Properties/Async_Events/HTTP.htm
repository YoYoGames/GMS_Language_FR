 HTTP L'événement HTTP est celui qui est déclenché par le rappel de l'un des http_*()fonctions, comme http_post_string(). Il génère en fait une carte DS qui est exclusive à cet événement et est stockée dans la variable spéciale async_load  (veuillez consulter les fonctions individuelles pour des exemples de code qui expliquent l'utilisation de cet événement plus en détail). Cette carte DS a la structure générale suivante: "id ": L'identifiant renvoyé par la commande. Si vous déclenchez une série de http_ demandes, vous devez savoir à laquelle vous obtenez la réponse, et vous utiliserez donc cette valeur pour la comparer à la valeur que vous avez stockée lorsque vous avez initialement envoyé la demande pour trouver la bonne. "status ": Renvoie une valeur inférieure à 0 en cas d'erreur, 0 en cas de succès et 1 si le contenu est en cours de téléchargement. "result ": Les données reçues (chaîne uniquement) ou le chemin d'accès au fichier téléchargé si vous avez utilisé http_get_file(). "url ": L'URL complète que vous avez demandée. "http_status ": Le code d'état http brut (si disponible). Cela renvoie le code d'état Web standard pour la plupart des navigateurs, par exemple: 304 pour" Non modifié "ou 204 pour" Aucun contenu ", etc... Ce qui précède montre ce que vous obtenez lorsque vous utilisez le http_post_string() fonction, mais chacun des http_ Les fonctions peuvent renvoyer une carte légèrement différente, veuillez donc vous référer à la saisie manuelle de chaque fonction pour connaître les données précises qui lui sont renvoyées. REMARQUE: comme async_load crée une carte DS, ces fonctions sont particulièrement utiles lorsqu'elles sont associées aux fonctions json_encode () et json_decode (). Il peut également y avoir des données supplémentaires fournies par cette carte si vous avez demandé des fichiers à télécharger. Dans ce cas, le "statut" aura la valeur 1 et la carte DS contiendra ces clés supplémentaires: "contentLength ": Il s'agit de la taille du fichier que le serveur Web a indiqué que vous devriez vous attendre à recevoir (peut être égale à -1 si le serveur ne renvoie pas ces données). "sizeDownloaded ": La taille des données déjà téléchargées. Notez que l'événement ne sera pas déclenché pour chaque paquet de données reçu, mais sera plutôt mis à jour à tout moment pendant le téléchargement dans la boucle de jeu principale. Notez également qu'actuellement, cette fonctionnalité n'est disponible que pour les Windows formes cibles Windows standard.  Retour: Événements asynchrones Suivant: Achat via une application © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

