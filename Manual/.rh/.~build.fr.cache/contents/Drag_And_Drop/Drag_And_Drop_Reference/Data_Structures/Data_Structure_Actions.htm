
  
  Structure de données Bibliothèque d'action
  
  Dans les jeux, vous avez souvent besoin de stocker des informations de manière précise et ordonnée. Par exemple, vous pouvez avoir besoin de stocker des listes d'objets qu'une personne porte ou vous pouvez vouloir stocker une grille de lieux qui doivent encore être visités. Vous pouvez utiliser plusieurs variables
    mais si vous souhaitez effectuer des opérations plus complexes, comme le tri des données ou la recherche d'un élément particulier, vous devez écrire de grandes quantités de code de bloc d'action, ce qui peut être lent à exécuter, difficile à déboguer et très pénible à écrire !
  Pour remédier à cela, GameMaker Studio 2 dispose d'un certain nombre de structures de données intégrées auxquelles on peut accéder par le biais de fonctions spécialisées. Quatre types de structures de données sont disponibles par Glisser-Déposer (six si vous utilisez la fonction GML),
    chacun ayant ses propres avantages et inconvénients en fonction du type d'informations que vous cherchez à stocker et de la manière dont vous souhaitez les manipuler par la suite - les quatre types sont :
  
    
      
        
        Listes
        Une liste est une structure de données qui stocke des informations de manière séquentielle au fur et à mesure qu'elles sont ajoutées. Les index de la liste commencent à 0 et augmentent pour chaque élément ajouté à la fin de la liste, bien que vous puissiez également insérer des données à une position autre que la dernière. Contrairement à la structure de données Stack (expliquée ci-dessous), vous pouvez accéder aux données à partir de n'importe quel index de la liste et à tout moment.
      
      
        
        Cartes
        La structure de données map est exceptionnellement utile car elle permet de stocker la clé et valeur paires. Par exemple, un personnage de votre jeu peut avoir une quantité d'objets différents (clés) et pour chaque objet individuel, il peut en avoir un certain nombre (valeurs), comme dans un RPG où vous pouvez avoir 10 potions de santé, 5 potions de mana et 100 or. Les cartes maintiennent ces paires ensemble au même endroit et vous pouvez ajouter des paires à la carte et rechercher la valeur correspondant à certaines clés en utilisant quelques fonctions simples. Les cartes ne sont pas triées d'une manière (reconnaissable), ce qui signifie que pour trouver une certaine clé, vous pouvez avoir à itérer à travers l'ensemble (ce qui est très lent), et il n'y a également aucun moyen de tenir deux clés qui sont les mêmes, et vous ne pouvez pas attribuer deux valeurs à une clé.
      
      
        
        Grilles
        Une grille est un tableau bidimensionnel de valeurs dont vous définissez la largeur et la hauteur. Cela définit le nombre total de "cellules" de la grille (la largeur et la hauteur multipliées) et ces cellules sont ensuite utilisées pour contenir différentes valeurs de données, qui peuvent être n'importe quel type de données autorisé. Ce type de structure vous permet de définir et de récupérer la valeur des cellules de la grille en indiquant la position x (colonne) et y (ligne) de celle-ci (les lignes et les colonnes commencent à 0 et vont jusqu'à la largeur de la grille - 1 et la hauteur de la grille -1). Lorsque vous accédez aux structures de données de la grille, vous devez toujours essayer d'utiliser des valeurs entières pour la position de la cellule, sinon tous les indices non entiers seront ignorés par GameMaker
          Studio 2 si vous ne le faites pas. Si ce n'est pas ce dont vous avez besoin, vous devrez effectuer vous-même l'arrondi avant de transmettre l'indice que vous souhaitez vérifier.
      
      
        
        Piles
        Une structure de données en pile est une structure dite LIFO (last-in-first-out). Vous pouvez pousser des valeurs sur une pile et les retirer en les sortant de la pile, et la valeur qui a été poussée sur la pile le plus récemment est la première à être retirée de la pile (pensez à une pile de pièces de monnaie, où chaque pièce que vous ajoutez doit être retirée avant que vous puissiez accéder au reste des pièces en dessous). Les piles sont souvent utilisées lorsqu'il y a des interruptions à gérer, ou lorsqu'il y a des fonctions récursives, ou même lorsque vous construisez une IA rudimentaire pour vos jeux.
      
    
  
   
  Essentiellement, toutes les structures de données fonctionnent de la même manière : vous créez une structure de données et stockez sa valeur d'index dans une variable. Vous utilisez ensuite cet index pour référencer la structure de données dans tous les appels de fonction ultérieurs qui peuvent effectuer des opérations sur elle. Enfin,
    lorsque vous avez terminé, vous détruisez à nouveau la structure de données pour la retirer de la mémoire. Vous pouvez utiliser simultanément autant de structures que vous le souhaitez, et toutes les structures peuvent stocker à la fois des chaînes de caractères et des valeurs réelles.
  REMARQUE: comme toutes les ressources dynamiques, les structures de données occupent de la mémoire et doivent donc toujours être détruites lorsqu'elles ne sont plus nécessaires afin d'éviter les fuites de mémoire qui ralentiront et finiront par faire planter votre jeu.
  La bibliothèque Structure de données comporte les actions suivantes :
   
  
    
      
        
        Créer une liste
      
      
        
        Créer une carte
      
      
        
        Créer une grille
      
      
        
        Créer une pile
      
      
        
        Effacer la structure des données
      
      
        
        Structure de données libre
      
      
        
        Ajouter à la liste
      
      
        
        Retirer de la liste
      
      
        
        Get List Item At
      
      
        
        Obtenir l'index d'un élément de liste
      
      
        
        Insérer dans une liste
      
      
        
        Obtenir le nombre d'éléments de la liste
      
      
        
        Définir la valeur de la carte
      
      
        
        Obtenir la valeur de la carte
      
      
        
        Supprimer l'entrée de la carte
      
      
        
        Définir la valeur de la grille
      
      
        
        Obtenir la valeur de la grille
      
      
        
        Grille claire
      
      
        
        Pousser sur la pile
      
      
        
        Pop Stack
      
      
        
        Si la structure de données existe
      
      
        
        Si la structure de données est vide
      
    
  
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
  
    
      
        Retour : Index
        Suivant : Actions tampon
      
    
    Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

