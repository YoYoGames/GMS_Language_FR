 Construire un code de bloc d'action Pour ajouter des comportements à des objets, vous pouvez construire votre code à l'aide d' actions des différentes bibliothèques disponibles dans la boîte à outils d'action. Pour commencer, vous devrez créer un nouveau projet de Drag and Drop, puis créer un nouvel objet (vous pouvez également attribuer un sprite à l'objet si nécessaire). Dans votre nouvel objet, vous pouvez commencer à ajouterevents, et dans les événements, ajoutez vos DnD de code DnD™. Notez que lorsque vous ajoutez un nouvel événement, une fenêtre "code" s'ouvre avec un onglet pour l'événement donné (voir l'image ci-dessus), et vous pouvez maintenant faire glisser n'importe quelle action que vous souhaitez de la boîte à outils à droite dans le volet Bloc d'action de la fenêtre de code. Maintenant, s'il est vrai que vous pouvez ajouter n'importe quelle action, cela ne signifie pas qu'elles fonctionneront toutes ou que le projet se compilera avec elles. Certaines actions nécessitent au moins une variable pour fonctionner, tandis que d'autres - comme les actions Draw - ne fonctionneront que si elles sont utilisées dans un événement spécifique. Comment savez-vous lesquels utiliser? Eh bien, en général, il s'agit simplement d'utiliser la logique... si une action nécessite une variable et que nous n'en avons pas encore défini une, alors nous ne devrions pas l'utiliser jusqu'à ce que nous ayons ajouté une action pour créer la variable. Lorsque vous faites glisser une action de la boîte à outils dans l'espace de travail principal bloc d' action, il sera étendu à vous montrer le disponible arguments de (paramètres) que vous pouvez remplir et changer pour définir le comportement. Dans l'image ci-dessous, nous avons fait glisser une action Assign Variable de la bibliothèque Toolbox Common dans l'espace de travail du bloc d'action: Vous pouvez voir que la nouvelle action est également affichée à gauche de la fenêtre de code sous une forme abrégée. Cette liste d'actions, appelée action Vue d'ensemble, peut être cliquée pour accéder rapidement à cette action à modifier. Vous pouvez continuer à ajouter des actions à l'événement si vous en avez besoin, chaque nouvelle action étant "enchaînée" à la précédente pour afficher le flux du DnD™ que vous construisez. Notez que la zone dans laquelle vous pouvez déposer d'autres actions est mise en évidence pour vous sous l'action initiale et, en fonction de l'action que vous utilisez, différentes zones seront mises en surbrillance pour montrer où dans la chaîne vous pouvez l'ajouter: Au fur et à mesure que vous ajoutez des actions à l'espace de travail, elles seront «enchaînées» aux actions ci-dessus afin que vous puissiez voir comment le DnD™ s'écoule, une action menant à une autre, et le volet de présentation les affiche sous forme abrégée et dans l'ordre d'exécution: Certaines actions placeront le code dans une chaîne distincte loin du flux principal - des choses comme If Variable créeront une sous-chaîne d'actions qui devrait se produire si les conditions correctes sont remplies avant de continuer avec la chaîne principale: Notez que lorsque vous utilisez des actions qui peuvent avoir un bloc de chaîne latérale comme celui-ci, l'action aura deux zones en surbrillance pour supprimer d'autres actions: Un en dessous de l'action comme d'habitude Un à droite de l'action pour indiquer que vous souhaitez créer un bloc d'actions distinct à exécuter lorsque la condition de la première action retourne true Vous pouvez modifier la position des actions dans la chaîne en cliquant simplement sur et faites-les glisser dans la nouvelle position dont vous avez besoin, et si vous faites un clic et maintenez pendant une seconde puis déplacez la souris, vous pouvez déplacer l'action dans l'espace de travail tout en conservant sa place dans la chaîne de blocs d'action. Il est également possible d'ajouter des commentaires aux Drag and Drop™, de sorte que vous pouvez laisser des notes à côté de différents blocs pour expliquer ce qu'ils font (ce qui est particulièrement utile lorsque vous travaillez en équipe): Vous pouvez en savoir plus sur cette fonctionnalité à partir de la page du menu du bouton droit de la souris. Ce sont les bases de l'utilisation de l' Drag and Drop, mais d'autres détails importants sont expliqués dans les sections ci-dessous: Variables cibles Il est important de noter que de nombreuses actions proposent une variable "cible", qui peut être signalée comme "Temporaire", par exemple: Cela signifie que vous pouvez fournir une variable qui est la cible pour contenir la valeur renvoyée par l'action. Dans l'exemple d'action ci-dessus, l'action renverra le volume de la ressource audio que vous sélectionnez, de sorte que vous fournissez une variable cible pour contenir cette valeur afin que vous puissiez la référencer plus tard. Maintenant, cette variable cible devra avoir été déclarée auparavant soit en utilisant Assign Variable (qui crée une variable d'instance ) ou Declare Temporary Variable (qui crée une variable temporaire locale ) Si vous cochez l'option "Temp", vous pouvez simplement ajouter un nom de la variable et l'action créera cette variable et la définira pour qu'elle contienne la valeur de retour pour vous (création d'une variable locale temporaire). Toutes les actions utilisées par la suite peuvent désormais accéder à la valeur de la variable temporaire, mais uniquement dans le même événement ou script. Les variables temporaires ne sont disponibles que dans la portée où elles ont été créées. Pour plus d'informations sur les variables et la portée des variables, veuillez consulter ici. Portée de l'action Non seulement les variables ont des étendues (voir la section Variables cibles ci-dessus), mais les actions peuvent également avoir des étendues différentes. En fait, presque toutes les actions peuvent avoir une portée différente pour travailler, définie dans la fenêtre déroulante ouverte dans l'action elle-même, comme indiqué ici: Vous pouvez également définir la portée de toutes les autres actions à l'aide de l'action spéciale Appliquer à. Pour plus d'informations sur cette fonctionnalité des DnD™, veuillez cliquer ici: Application d'actions à d'autres instances Saisie automatique Lorsque vous travaillez avec le Drag and Drop vous devrez ajouter des variables et des expressions dans les différents champs de saisie des actions. Cependant, en faisant cela, la fenêtre Auto Complete apparaîtra souvent pour vous aider: Cette fenêtre contextuelle répertorie toutes les GML ( GameMaker Language ) intégrées, ainsi que toutes les ressources contenant les lettres initiales de ce que vous avez tapé. Il peut être utilisé pour trouver rapidement la ressource ou la variable que vous souhaitez pour l'action sans avoir à tout taper vous-même. Par exemple, si toutes vos pièces ont le préfixe "rm_ "puis en tapant cela et en attendant un moment, la fenêtre de saisie semi-automatique avec tous les éléments commençant par"rm_ ". Notez que toutes les variables intégrées qui sont affichées dans la fenêtre de saisie semi-automatique peuvent être utilisées partout où une variable ou une expression est attendue dans une action, comme la plupart des fonctions GML Expansion de l'action Parfois, lorsque vous utilisez une action, vous verrez une petite icône plus sur le côté. Cela signifie que vous pouvez développer l'action pour effectuer des tâches supplémentaires ou prendre d'autres arguments. Par exemple, si vous regardez l' action Déclarer les variables temporaires, vous pouvez voir qu'elle a cette icône: Lorsque vous cliquez sur l'icône, l'action se développe et vous permet de déclarer plus de variables, ce qui facilite et accélère la définition de plusieurs variables en même temps. L'icône peut également être utilisée pour les actions qui nécessitent des arguments facultatifs, comme l' action Choisir, qui vous permet d'ajouter différentes valeurs différentes à renvoyer:  Retour: Index Suivant: Application d'actions à d'autres instances © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

