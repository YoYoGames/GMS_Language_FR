 Vecteurs À un moment donné, lors de la création d'un jeu de toute complexité, vous devrez probablement faire face à des vecteurs. Ils sont utilisés en physique, en IA, en trigonométrie et bien d'autres situations, mais qu'est-ce qu'un vecteur? Eh bien, pour le dire simplement, un vecteur est une quantité dirigée. Commençons par regarder un vecteur à 1 dimension - qui est exactement la même chose qu'un seul nombre - en traçant une ligne numérotée avec une flèche commençant à zéro et se terminant à 5. C'est le vecteur "a" qui est égal à 5 et si nous dessinons une autre flèche commençant par le 5 et se terminant par le 8 nous avons le vecteur "b" qui est égal à 3: Vous devez comprendre que le point de départ d'un vecteur n'a pas d'importance, tout ce qui compte, c'est sa longueur et sa direction. Donc, le vecteur "b" commence à 5, mesure 3 unités de long et pointe vers la "droite", le rendant identique à un vecteur commençant à 0 et allant à 3. Maintenant, vous pouvez également additionner ces vecteurs ensemble, en mettant bout à bout les deux vecteurs "a" et "b" pour obtenir le vecteur "c" qui est égal à 8. Qu'en est-il des nombres négatifs? Eh bien, si, dans l'image ci-dessus, un vecteur qui pointe vers la "droite" correspond à un nombre positif, vous pouvez voir qu'un vecteur pointant vers la "gauche" correspondrait à un nombre négatif, faisant d'un vecteur unidimensionnel rien plus qu'un nombre signé (+/-). Ceci explique le concept essentiel d'un vecteur: seules la longueur et la direction ("gauche" ou "droite" dans ce cas) comptent, pas la position. Alors, qu'en est-il des vecteurs à 2 dimensions? Eh bien, nous pouvons les considérer comme consistant non seulement en «gauche» et «droite», mais également en «haut» et «en bas»: Maintenant, ce ne sont pas encore des vecteurs car nous devons encore les réduire en utilisant leurs coordonnées de début et de fin. En regardant le vecteur "a", nous pouvons voir qu'il a une coordonnée de début de [2,2] et une coordonnée de fin de [4,3] et donc pour obtenir le vecteur de celui-ci, nous devons le réduire en soustrayant les coordonnées de fin de les coordonnées de départ comme ceci:a = [(x2-x1), (y2-y1)] = [(4-2), (3-2)] = [2,1] Faisons de même pour le vecteur b maintenant:b = [(-1.2 -(-3.2)) ,(2.1 - 1.1)] = [2 ,1] Remarquez quelque chose? Ces deux vecteurs sont les mêmes! Ceci est encore une autre démonstration qu'un vecteur n'a pas de position, seulement une direction et une longueur, et nous pouvons dessiner ces vecteurs les uns par rapport aux autres autour d'un axe local [0,0]: Cela signifie qu'un vecteur 2D est défini par deux valeurs, une position «x» et une position «y» par rapport à l'axe local [0,0]. Et qu'en est-il des vecteurs 3D? Eh bien, ils ont la dimension supplémentaire de "profondeur" à affronter et seraient calculés comme des positions "x", "y" et "z" autour d'un axe local quelque chose comme ceci: Un bon exemple de vecteur utilisé dans GameMaker Studio 2 est la propriété de gravité physique dans l'éditeur de salle. La gravité est calculée comme un vecteur autour d'une position [0,0]. Donc, si vous définissez la gravité comme [x0, y10], la gravité serait vers le bas avec une force de 10. Habituellement, les vecteurs peuvent être utilisés dans de nombreuses situations, mais parfois vous voulez limiter leur valeur (comme lorsque vous traitez avec des angles), c'est pourquoi nous les normalisons. Il s'agit essentiellement d'une astuce mathématique utilisée pour convertir un vecteur de longueur n en un vecteur de longueur 1, ce qui signifie que les composantes du vecteur sont normalisées entre 0 et 1. Ces vecteurs sont également appelés vecteurs unitaires: Pour calculer un vecteur normalisé, nous devons d'abord avoir les composantes vectorielles originales, puis les utiliser pour obtenir la longueur du vecteur. Nous divisons ensuite chacune des composantes vectorielles par cette longueur pour obtenir les composantes vectorielles normalisées qui forment le vecteur normalisé dans lequel la somme des carrés de toutes les coordonnées est égale à 1. Voici comment: Nous prenons d'abord les coordonnées du vecteur et obtenons les composants:vx = (x2 - x1) = (7 - 1) = 6 vy = (y2 - y1) = (4 - 1) = 3 Nous utilisons ensuite ces valeurs pour calculer la longueur du vecteur:len = sqr(vx2 + vy2); // = sqr(36 + 9) = sqr(45) = 6.708203932499369 Maintenant, cela nous donne la longueur exacte du vecteur "a", alors utilisons-la pour normaliser les deux composantes vectorielles vx et vy:vx = (vx/len); // = (6 / 6.708203932499369) = 0.8944271909999159 vy = (vy/len); // = (3 / 6.708203932499369) = 0.4472135954999579 Génial! Nous avons maintenant normalisé les composantes du vecteur! Mais quelle utilité pratique cela a-t-il dans le contexte de GameMaker Studio 2 ? D'accord, nous allons vous donner un exemple pratique... Supposons que vous ayez un jeu dans lequel le joueur doit tirer sur un ennemi et que vous devez savoir à quel point l'objet de la balle doit se déplacer le long des axes x et y à chaque étape pour le toucher: Pour cela, vous utiliseriez les coordonnées du joueur et de l'ennemi pour obtenir les composantes vectorielles et la longueur, puis vous les normaliseriez pour obtenir une valeur entre 0 et 1 que vous multiplieriez finalement par la vitesse à laquelle vous souhaitez que la balle se déplace à chaque étape. Ces deux dernières valeurs, vous les stockeriez ensuite et les ajouteriez aux coordonnées de départ x et y à chaque étape. Cela vous semble compliqué? Ce n'est pas le cas, regardez (les valeurs ont été arrondies à une décimale pour plus de simplicité):px = 100; py = 425; ex = 356; ey = 83; bullet_speed = 5;
     vx = (ex - px); // = 256 vy = (ey - py); // = -342
     len = sqrt(vx2 + vy2); // = sqrt(65536 + 116964) = 427.2
     vx = vx / len; // = 0.6 vy = vy / len; // = 0.8
     speed_x = vx * bullet_speed; // = 3 speed_y = vy * bullet_speed; // = 4 Donc, pour atteindre la cible, nous devons ajouter 3 à la coordonnée x de la puce et 4 à sa coordonnée y à chaque étape.  Retour: Informations complémentaires Suivant: Guide d'utilisation des tampons © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

