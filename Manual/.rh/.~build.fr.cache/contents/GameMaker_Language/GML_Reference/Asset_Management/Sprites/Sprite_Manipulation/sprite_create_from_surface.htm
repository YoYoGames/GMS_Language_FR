
  
  sprite_create_from_surface
  Cette fonction permet de créer un sprite à partir d'une surface préalablement initialisée (la valeur de l'ID de l'index de la surface est renvoyée lorsque vous créez la surface à l'aide de la fonction surface_create()). Les coordonnées x et
    y que vous entrez ensuite dans la fonction doivent être relatives à la position (0,0) de la surface (le coin supérieur gauche) et non à la fenêtre du jeu (ni à la vue si vous en avez une active). Les arguments largeur et hauteur sont en pixels et
    définissent la largeur et la hauteur de la partie de la surface à utiliser.
  En donnant à l'argument "removeback" la valeur true, vous supprimez une couleur du sprite, en vérifiant la couleur du pixel inférieur gauche du sprite et en l'utilisant comme couleur à supprimer.
  Si vous choisissez l'option "removeback", vous pouvez également souhaiter que GameMaker Studio 2 lisse les bords du sprite en définissant l'argument "smooth" sur true. Tout ce que cela fait, c'est de créer une bordure semi-transparente autour des bords du sprite après la suppression de son arrière-plan.
    le sprite après la suppression de son arrière-plan.
  Enfin, vous pouvez également spécifier l'origine x et y du sprite. Il s'agit du point où le sprite est "fixé" sur l'instance qui l'utilise, et il est toujours calculé par rapport au coin supérieur gauche 0,0 d'une sous-image du sprite. Ainsi,
    par exemple, un sprite de 32 x 32 pixels dont les valeurs sont définies sur (16,16) aura son origine au centre.
  Par défaut, les boîtes de délimitation de tous les nouveaux sprites sont calculées automatiquement (la boîte de délimitation exacte dépend de la taille et de la transparence du sprite), mais vous pouvez souhaiter personnaliser cette fonction, auquel cas vous devez également utiliser la fonction sprite_collision_mask().
  REMARQUE : Lorsque vous créez un sprite dans GameMaker Studio 2 à l'aide de cette méthode, vous devez vous souvenir de le supprimer à nouveau (avec la touche sprite_delete()) lorsqu'il n'est plus nécessaire, sinon il y a un risque de fuite de mémoire qui ralentira et fera planter votre jeu.
    ralentir et éventuellement faire planter votre jeu.
   
  Syntaxe :
  sprite_create_from_surface(index, x, y, w, h, removeback, smooth, xorig, yorig) ;
  
    
      
        Arguments
        Description
      
      
        indice
        L'indice de la surface à créer.
      
      
        x
        La position x à partir de laquelle copier.
      
      
        y
        La position y à partir de laquelle la copie doit être effectuée.
      
      
        w
        La largeur de la zone à copier (à partir de la position x).
      
      
        h
        La hauteur de la zone à copier (à partir de la position y).
      
      
        retirer
        Indique s'il faut rendre transparents tous les pixels ayant la couleur de fond (pixel inférieur gauche).
      
      
        lisse
        Indique s'il faut lisser les bords.
      
      
        xorig
        Indique la position x de l'origine dans le sprite.
      
      
        yorig
        Indique la position y de l'origine dans le sprite.
      
    
  
   
  Renvoie à
  Réel (valeur d'identification unique du sprite)
   
  Exemple :
  var surf ; surf = surface_create(32, 32) ; surface_set_target(surf) ;
     draw_clear_alpha(c_black, 0) ; draw_sprite(spr_Body, 0, 0, 0) ; draw_sprite(spr_Clothes, 0, 0, 0) ; draw_sprite(spr_Hair, 0, 0, 0) ; spr_custom = sprite_create_from_surface(surf, 0, 0, 32, 32, true, true, 16, 16) ; surface_reset_target() ;
     surface_free(surf) ;
  
  Le code ci-dessus crée une surface et stocke son index dans la variable locale "surf". Il cible ensuite cette surface, l'efface et dessine plusieurs sprites les uns sur les autres. Enfin, il crée un nouveau sprite à partir de l'image composite dessinée sur la surface et affecte son index à "spr_Custom".
    surface et affecte son index à "spr_Custom" avant de libérer la mémoire utilisée par la surface.
   
   
   
  
    
      
        Retour : Manipulation des sprites
        Suivant : sprite_add_from_surface
      
    
    Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

