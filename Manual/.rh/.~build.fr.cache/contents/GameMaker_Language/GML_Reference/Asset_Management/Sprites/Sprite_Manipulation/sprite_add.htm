sprite_add Avec cette fonction, vous pouvez ajouter une image en tant que sprite, en la chargeant à partir d'une source externe où le fichier image à charger doit toujours être soit *.png, *.gif, *.jpg/jpeg ou *.json format (*json les fichiers sont utilisés pour charger des sprites d'animation squelette créés avec Spine). La fonction renvoie le nouvel index de sprite qui doit ensuite être utilisé dans tous les autres codes liés au sprite. Si vous utilisez cette fonction avec HTML5 ou obtenez une image à partir d'une URL, cette fonction générera également un événement asynchrone Image Loaded. Consultez la page Événement asynchrone pour plus d'informations. Toutes les images qui doivent être transformées en sprites animés - à l'exception de *.gif (voir ci-dessous) - devrait avoir un format "bande" (voir l'image ci-dessous) et il sera divisé en le nombre de sous-images spécifié en suivant la règle sprite width = strip width / sub images. Comme vous pouvez le voir dans l'image ci-dessus, le sprite a été placé sur un fond violet foncé, et cela peut être supprimé en définissant l'argument "removeback" sur true. Cela fonctionne en vérifiant le pixel en bas à gauche de l'image-objet pour la couleur à cet endroit, puis en l'utilisant comme couleur à supprimer. Par exemple, dans l'image ci-dessus, si la couleur du pixel en bas à gauche était verte, toutes les parties vertes du sprite auraient été supprimées et le reste de l'arrière-plan violet ignoré. Si vous choisissez l'option "removeback", vous pouvez également souhaiter que GameMaker Studio 2 les bords de l'image-objet en définissant l'argument "smooth" sur true. Tout cela ne fait que créer une bordure semi-transparente autour des bords du sprite après que son arrière-plan ait été supprimé. Enfin, vous pouvez également spécifier le x et l' origine y pour l'image - objet. C'est le point où le sprite est "fixé" sur l'instance qui l'utilise, et est toujours calculé par rapport au coin supérieur gauche 0,0 d'une sous-image de sprite. Ainsi, par exemple, un sprite de 32 x 32 pixels avec ces valeurs définies sur (16,16) aura son origine au centre. Si vous ajoutez un *.gif format image, il vous suffit de spécifier le nom de fichier et le numéro d'image (qui devrait être 1 pour la première image) et vous pouvez laisser tous les autres arguments à 0, en notant que seule la première image du GIF sera chargée. Pour *.json sprites, le numéro d'image doit être 1, et les paramètres «removeback» et «smooth» seront ignorés. Par défaut, tous les nouveaux sprites ont leurs cadres de délimitation calculés automatiquement (le cadre de délimitation exact dépendra de la taille et de la transparence du sprite), mais vous souhaiterez peut-être le personnaliser, auquel cas vous devez également utiliser la fonction sprite_collision_mask(). Il convient de noter que la mémoire utilisée lors de l'ajout d'un sprite de cette manière sera plus grande que prévu. En effet, GameMaker Studio 2 stockera le sprite en tant que page de texture et il sera également stocké dans la mémoire du GPU, de sorte que la mémoire totale sera plus grande que ce à quoi on pourrait s'attendre pour un fichier image du même sprite. REMARQUE: lorsque vous chargez un sprite dans GameMaker Studio 2 vous devez vous rappeler de le supprimer à nouveau (avec sprite_delete() ) lorsqu'il n'est plus nécessaire, sinon il y a un risque de fuite de mémoire qui ralentira et finira par planter votre jeu. REMARQUE: sur iOS, si vous chargez un fichier inclus à partir d'un dossier, c'est-à-dire avec un chemin quelque chose comme "Backgrounds/background1.png ", vous n'avez PAS besoin d'inclure le dossier dans le chemin et il suffit de fournir le nom du fichier. Sur toutes les autres plates-formes, vous devez fournir le (s) dossier (s) dans le cadre du chemin d'accès au fichier. REMARQUE: sur HTML5, si vous chargez une image-objet à partir d'un serveur sécurisé, vous devrez peut-être définir le type d'origine croisée et utiliser un chemin relatif au lieu d'un chemin absolu. Voir http_set_request_crossorigin () pour plus de détails. Syntaxe:sprite_add(fname, imgnumb, removeback, smooth, xorig, yorig); Argument Description fname Le nom (un chemin de fichier de chaîne) du fichier à ajouter. imgnum Utilisez pour indiquer le nombre de sous-images (1 pour une seule image ou pour *.gif ). removeback Indique s'il faut rendre transparents tous les pixels avec la couleur d'arrière-plan (pixel en bas à gauche). smooth Indique s'il faut lisser les bords s'ils sont transparents. xorig Indiquez la position x de l'origine dans le sprite. yorig Indiquez la position y de l'origine dans le sprite. Retour:Real (sprite ID value) Exemple:spr = sprite_add("player_5.png", 16, true, true, 0, 0); Le code ci-dessus charge un sprite dans le jeu et stocke son index dans la variable "spr".  Retour: Manipulation des sprites Suivant:sprite_replace © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

