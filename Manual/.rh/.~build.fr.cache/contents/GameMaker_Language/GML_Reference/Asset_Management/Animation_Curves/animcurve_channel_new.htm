
  
  animcurve_canal_new
  Cette fonction peut être utilisée pour créer une nouvelle structure de canal de courbe d'animation. Une structure de canal possède les variables suivantes :
   
  
    
      
        Nom de la variable
        Type de données
        Description
      
      
        nom
        chaîne de caractères
        Il s'agit du nom du canal.
      
      
        type
        constant
        Ce sera l'une des constantes animcurvetype_linear - pour une interpolation linéaire entre les points - ou animcurvetype_catmullrom - pour une interpolation "lisse" entre les points en utilisant l'interpolation catmull-rom.
      
      
        itérations
        entier
        Si le canal utilise l'interpolation catmull-rom ("lisse"), cette valeur indique combien de points ont été générés pour chaque segment de la courbe (notez que ces points supplémentaires sont internes à la fonction et uniquement utilisés pour les calculs d'exécution).
          Si le canal utilise l'interpolation linéaire, cette valeur existera toujours mais peut être ignorée car elle n'a aucune incidence sur la façon dont la courbe est interpolée.
      
      
        points
        pointeur de tableau
        Il s'agit d'un tableau, où chaque élément du tableau est une structure de points.
      
    
  
   Par défaut, lorsque vous créez une nouvelle structure de canal, la variable "name" sera une chaîne vide, le "type" sera animcurvetype_linear et les "itérations " seront 16. Toutes ces variables peuvent être réglées sur les
    valeurs que vous souhaitez (notez que la valeur "itérations" n'a aucun effet sur les types de courbes linéaires). Une fois créée, vous devez ajouter des points à la courbe, ce qui est fait en ajoutant différentes structures de points au tableau "points".
    Ces structures de points peuvent être créées à l'aide de la fonction animcurve_point_new()et contiennent les variables suivantes :
   
  
    
      
        Nom de la variable
        Type de données
        Description
      
      
        posx
        réel
        La position dans le temps (normalisée de 0 à 1) du point.
      
      
        valeur
        réel
        La valeur du point.
      
    
  
   
   
  Syntaxe :
  animcurve_channel_new() ;
   
  Les retours :
  Référence structurelle
   
  Exemple :
  my_curve = animcurve_create() ; my_curve.name = "My_Curve" ; var _channels = array_create(1) ; _channels[0] = animcurve_channel_new() ; _channels[0].name = "alpha" ; _channels[0].type = animcurvetype_catmullrom ; _channels[0].itérations = 8 ; var _points = array_create(3) ; _points[0] = animcurve_point_new() ; _points[0].posx = 0 ; _points[0].value = 0 ; _points[1] = animcurve_point_new() ; _points[1].posx = 0.5 ; _points[1].value
    = 1 ; _points[2] = animcurve_point_new() ; _points[2].posx = 1 ; _points[2].value = 0 ; _channels[0].points = _points ; my_curve.channels = _channels ;
  Le code ci-dessus crée une nouvelle structure de courbe d'animation et la stocke dans la variable "my_curve". Cette structure est ensuite remplie avec un nom et un tableau de canaux. Le tableau de canaux contient un seul canal avec trois points.
   
   
   
  
    
      
        Retour : Courbes d'animation
        Suivant : animcurve_point_new
      
    
    Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

