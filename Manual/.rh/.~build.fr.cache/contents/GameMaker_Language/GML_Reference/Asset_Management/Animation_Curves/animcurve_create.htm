animcurve_create Cette fonction créera une structure de courbe d'animation vide, prête à être remplie avec des données de canal. La fonction renverra un pointeur vers la structure et cela est ensuite utilisé pour ajouter des canaux et d'autres données à la courbe d'animation. Vous pouvez également fournir ceci à des fonctions telles que animcurve_get() pour obtenir plus tard les données de la courbe. Lorsque vous utilisez cette fonction, la structure créée ne contiendra aucune donnée, et pour l'utiliser, vous devez ajouter au moins un canal et le canal doit avoir des points ajoutés. Pour ajouter une chaîne, voir la fonction animcurve_channel_new(), et pour ajouter des points au canal, voir la fonction animcurve_point_new(). De plus, vous pouvez donner un nom à la structure de la courbe d'animation en définissant la variable "nom" (comme indiqué dans l'exemple de code ci-dessous). Les canaux ajoutés à une nouvelle courbe d'animation doivent être ajoutés sous forme de tableau, où chaque élément du tableau fait référence à une structure de canal, et les points d'un canal doivent également être ajoutés sous forme de tableau, où chaque élément de tableau fait référence à une structure de points. Notez que les courbes d'animation créées de cette manière doivent être supprimées lorsqu'elles ne sont plus nécessaires car elles prendront de l'espace en mémoire sinon, ce qui peut entraîner une fuite de mémoire, ralentir et éventuellement planter votre jeu. Vous pouvez supprimer une courbe d'animation lorsqu'elle n'est plus nécessaire à l'aide de la fonction animcurve_destroy(). Vous n'avez pas besoin de nettoyer les données de canal ou de point dans la courbe, car cela sera fait automatiquement par le ramasse-miettes lorsque la courbe elle-même est détruite. Syntaxe:animcurve_create(); Retour:Struct Reference Exemple:my_curve = animcurve_create(); my_curve.name = "My_Curve"; var _channels = array_create(1); _channels[0] = animcurve_channel_new(); _channels[0].name = "alpha"; _channels[0].type = animcurvetype_catmullrom;    _channels[0].iterations = 8; var _points = array_create(3); _points[0] = animcurve_point_new(); _points[0].posx = 0; _points[0].value = 0; _points[1] = animcurve_point_new(); _points[1].posx = 0.5; _points[1].value
    = 1; _points[2] = animcurve_point_new(); _points[2].posx = 1; _points[2].value = 0; _channels[0].points = _points; my_curve.channels = _channels; Le code ci-dessus crée une nouvelle structure de courbe d'animation et la stocke dans la variable "my_curve". Cette structure est ensuite remplie avec un nom et un tableau de canaux. Le tableau de canaux contient un seul canal avec trois points.  Retour: Courbes d'animation Suivant:animcurve_channel_new © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

