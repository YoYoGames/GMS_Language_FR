
  
  animcurve_get_channel
  Cette fonction renvoie la structure contenant les données de canal pour le canal spécifié dans un actif de courbe d'animation. Vous devez fournir l'ID ou la structure de la courbe d'animation ainsi que le nom ou l'index du canal,
    et la fonction renverra une structure ayant le format suivant :
   
  
    
      
        Nom de la variable
        Type de données
        Description
      
      
        nom
        chaîne de caractères
        Il s'agit du nom du canal.
      
      
        type
        constant
        Ce sera l'une des constantes animcurvetype_linear pour une interpolation linéaire entre les points, ou animcurvetype_catmullrom pour une interpolation "lisse" entre les points en utilisant l'interpolation catmull-rom.
      
      
        itérations
        entier
        Si le canal utilise l'interpolation catmull-rom ("lisse"), cette valeur indique combien de points ont été générés pour chaque segment de la courbe (notez que ces points supplémentaires sont internes à la fonction et uniquement utilisés pour les calculs d'exécution).
          Si le canal utilise l'interpolation linéaire, cette valeur existera toujours mais peut être ignorée car elle n'a aucune incidence sur la façon dont la courbe est interpolée.
      
      
        points
        pointeur de tableau
        Il s'agit d'un tableau, où chaque élément du tableau est une structure de points.
      
    
  
   L'ID de la courbe d'animation est le nom de la courbe d'animation telle qu'elle a été définie dans l'Asset Browser, ou le pointeur de structure renvoyé par la fonction animcurve_create(). Le nom du canal est une chaîne qui
    Le nom du canal est une chaîne qui fait référence au canal tel qu'il a été défini dans l'actif de la courbe d'animation, ou vous pouvez fournir une valeur d'index, qui va de 0 à n, où n est le dernier canal dans l'actif de la courbe (par exemple, si une courbe d'animation a 4 canaux, ils seront indexés de 0 à 3).
    de 0 à 3). Notez que le passage d'une valeur d'index nécessitera moins de traitement que le passage d'un nom de canal. Si la fonction échoue (c'est-à-dire qu'aucun canal n'existe avec le nom ou l'index donné), vous obtiendrez une erreur.
  Les points d'un canal unique sont stockés sous forme de structures dans un tableau, où chaque élément du tableau est une structure de point unique. La structure de point a les variables suivantes :
   
  
    
      
        Nom de la variable
        Type de données
        Description
      
      
        posx
        réel
        La position dans le temps (normalisée de 0 à 1) du point.
      
      
        valeur
        réel
        La valeur du point.
      
    
  
   
   
  Syntaxe :
  animcurve_get_channel(curve_struct_or_id, channel_name_or_index) ;
  
    
      
        Arguments
        Description
      
      
        curve_struct_or_id
        L'ID ou le pointeur de structure de la courbe d'animation à cibler.
      
      
        nom_ou_index du canal
        Le nom du canal (une chaîne) ou l'index du canal (un nombre entier).
      
    
  
   
  Les retours :
  Structure
   
  Exemple :
  var _channeldata = animcurve_get_channel(ac_ButtonTween, 0) ; var _points = _channeldata.points ; for (var i = 0 ; i < array_length(_points) ; ++i ;)  {
     _points[i].value += 1 ; }
  
  Le code ci-dessus récupère la structure de canal pour le canal 0 dans l'actif de courbe "ac_ButtonTween", puis boucle à travers les points sur la courbe de canal et ajoute un à leur valeur.
   
   
   
  
    
      
        Retour : Courbes d'animation
        Suivant : animcurve_channel_evaluate
      
    
    Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

