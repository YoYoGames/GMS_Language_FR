animcurve_get_channel Cette fonction renverra la structure contenant les données de canal pour le canal spécifié dans un actif de courbe d'animation. Vous fournissez l'ID ou la structure de la courbe d'animation ainsi que le nom ou l'index du canal, et la fonction renverra une structure au format suivant: Nom de variable Type de données Description Nom chaîne de caractères C'est le nom de la chaîne. taper constant Ce sera l'une des constantes animcurvetype_linear pour l'interpolation linéaire entre les points, ou animcurvetype_catmullrom pour une interpolation "douce" entre les points en utilisant l'interpolation catmull-rom. itérations entier Si le canal utilise l'interpolation catmull-rom ("smooth"), cela contient le nombre de points générés pour chaque segment de la courbe (notez que ces points supplémentaires sont internes à la fonction et utilisés uniquement pour les calculs d' runtime Si le canal utilise l'interpolation linéaire, cette valeur existera toujours mais peut être ignorée car elle n'a aucune incidence sur la façon dont la courbe est interpolée. points pointeur de tableau Il s'agit d'un tableau, où chaque élément du tableau est une structure de points. L'ID de la courbe d'animation est le nom de la courbe d'animation tel qu'il a été défini dans le navigateur d'actifs, ou le pointeur de structure renvoyé par la fonction animcurve_create(). Le nom du canal est une chaîne qui fait référence au canal tel qu'il a été défini dans l'actif Courbe d'animation, ou vous pouvez fournir une valeur d'index, qui va de 0 à n, où n est le dernier canal de l'actif courbe (par exemple: si une courbe d'animation a 4 canaux, ils seront indexés de 0 à 3). Notez que la transmission d'une valeur d'index nécessitera moins de traitement que la transmission d'un nom de canal. Si la fonction échoue (c'est-à-dire qu'aucun canal n'existe avec le nom ou l'index donné), vous obtiendrez une erreur. Les points sur un seul canal sont stockés en tant que structures dans un tableau, où chaque élément du tableau est une structure à point unique. La structure de point a les variables suivantes: Nom de variable Type de données Description posx réel La position dans le temps (normalisée de 0 à 1) du point. évaluer réel La valeur du point. Syntaxe:animcurve_get_channel(curve_struct_or_id, channel_name_or_index); Argument Description curve_struct_or_id L'ID ou le pointeur de structure de la courbe d'animation à cibler channel_name_or_index Le nom du canal (une chaîne) ou l'index du canal (un entier). Retour:Struct Exemple:var _channeldata = animcurve_get_channel(ac_ButtonTween, 0); var _points = _channeldata.points; for (var i = 0; i < array_length(_points); ++i;)     {
         _points[i].value += 1;     }
   Le code ci-dessus récupère la structure de canal pour le canal 0 dans l'actif de courbe "ac_ButtonTween", puis parcourt les points de la courbe de canal et ajoute un à leur valeur.  Retour: Courbes d'animation Suivant:animcurve_channel_evaluate © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

