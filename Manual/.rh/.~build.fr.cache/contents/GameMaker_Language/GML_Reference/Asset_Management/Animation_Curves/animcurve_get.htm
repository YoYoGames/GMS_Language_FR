animcurve_get Cette fonction retournera une structure contenant toutes les données pour la courbe d'animation donnée. Vous fournissez l'ID d'actif de la courbe d'animation (tel que défini dans le navigateur d'actifs), et la fonction renverra une structure avec les variables suivantes: Nom de variable Type de données Description Nom chaîne de caractères C'est le nom de la courbe d'animation. canaux pointeur de tableau Il s'agit d'un tableau, où chaque élément du tableau est une structure de canal. Lorsque vous accédez à une courbe d'animation de cette manière, vous récupérez un tableau dans lequel chaque élément du tableau est une structure avec des données relatives à un canal dans la courbe. La structure de canal aura les variables suivantes: Nom de variable Type de données Description Nom chaîne de caractères C'est le nom de la chaîne. taper constant Ce sera l'une des constantes animcurvetype_linear pour l'interpolation linéaire entre les points, ou animcurvetype_catmullrom pour une interpolation "douce" entre les points en utilisant l'interpolation catmull-rom. itérations entier Si le canal utilise l'interpolation catmull-rom ("smooth"), cela contient le nombre de points générés pour chaque segment de la courbe (notez que ces points supplémentaires sont internes à la fonction et utilisés uniquement pour les calculs d' runtime Si le canal utilise l'interpolation linéaire, cette valeur existera toujours mais peut être ignorée car elle n'a aucune incidence sur la façon dont la courbe est interpolée. points pointeur de tableau Il s'agit d'un tableau, où chaque élément du tableau est une structure de points. Comme pour les canaux, les points sur un seul canal sont stockés sous forme de structures dans un tableau, où chaque élément du tableau est une structure à point unique. La structure de point a les variables suivantes: Nom de variable Type de données Description posx réel La position dans le temps (normalisée de 0 à 1) du point. évaluer réel La valeur du point. Notez que si la fonction échoue (c'est-à-dire que l'ID de courbe d'animation donné n'existe pas), la fonction renverra -1. Syntaxe:animcurve_get(curve_id); Argument Description curve_id L'ID du navigateur d'actifs (index) de la courbe d'animation à obtenir. Retour:Struct or -1 Exemple:var _curve = animcurve_get(ac_ButtonTween); var _channel = _curve.channels[0]; if _channel.type != animcurvetype_linear     {
         _channel.type = animcurvetype_linear;     }
   Le code ci-dessus récupère la structure de la courbe d'animation pour l'élément de courbe "ac_ButtonTween", puis vérifie le type de courbe pour le premier canal, et s'il n'est pas linéaire, il le définit sur linéaire.  Retour: Courbes d'animation Suivant:animcurve_get_channel © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

