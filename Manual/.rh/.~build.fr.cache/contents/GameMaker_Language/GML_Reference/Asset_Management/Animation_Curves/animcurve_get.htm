
  
  animcurve_get
  Cette fonction renvoie une structure contenant toutes les données de la courbe d'animation donnée. Vous fournissez l'ID de l'actif de la courbe d'animation (tel que défini dans le navigateur d'actifs), et la fonction renvoie une structure
    avec les variables suivantes :
   
  
    
      
        Nom de la variable
        Type de données
        Description
      
      
        nom
        chaîne de caractères
        Il s'agit du nom de la courbe d'animation.
      
      
        canaux
        pointeur de tableau
        C'est un tableau, où chaque élément du tableau est une structure de canal.
      
    
  
   La variable des canaux dans la structure est un tableau où chaque élément du tableau est une structure avec des données relatives à un canal dans la courbe. La structure de canal aura les variables suivantes :
   
  
    
      
        Nom de la variable
        Type de données
        Description
      
      
        nom
        chaîne de caractères
        Il s'agit du nom du canal.
      
      
        type
        constant
        Ce sera l'une des constantes animcurvetype_linear pour une interpolation linéaire entre les points, ou animcurvetype_catmullrom pour une interpolation "lisse" entre les points en utilisant l'interpolation catmull-rom.
      
      
        itérations
        entier
        Si le canal utilise l'interpolation catmull-rom ("lisse"), cette valeur indique combien de points ont été générés pour chaque segment de la courbe (notez que ces points supplémentaires sont internes à la fonction et uniquement utilisés pour les calculs d'exécution).
          Si le canal utilise l'interpolation linéaire, cette valeur existera toujours mais peut être ignorée car elle n'a aucune incidence sur la façon dont la courbe est interpolée.
      
      
        points
        pointeur de tableau
        Il s'agit d'un tableau, où chaque élément du tableau est une structure de points.
      
    
  
   Comme pour les canaux, les points d'un seul canal sont stockés sous forme de structures dans un tableau, où chaque élément du tableau est une structure de point unique. La structure de point a les variables suivantes :
   
  
    
      
        Nom de la variable
        Type de données
        Description
      
      
        posx
        réel
        La position dans le temps (normalisée de 0 à 1) du point.
      
      
        valeur
        réel
        La valeur du point.
      
    
  
   Notez que si la fonction échoue (c'est-à-dire que l'ID de la courbe d'animation donnée n'existe pas), elle renvoie -1.
   
   
  Syntaxe :
  animcurve_get(curve_id) ;
  
    
      
        Arguments
        Description
      
      
        courbe_id
        L'ID (index) du navigateur d'actifs de la courbe d'animation à obtenir.
      
    
  
   
  Les retours :
  Structure ou -1
   
  Exemple :
  var _curve = animcurve_get(ac_ButtonTween) ; var _channel = _curve.channels[0] ; if _channel.type != animcurvetype_linear {
     _channel.type = animcurvetype_linear ; }
  
  Le code ci-dessus récupère la structure de courbe d'animation pour l'actif courbe "ac_ButtonTween", puis vérifie le type de courbe pour le premier canal, et s'il n'est pas linéaire, il le définit comme linéaire.
   
   
   
  
    
      
        Retour : Courbes d'animation
        Suivant : animcurve_get_channel
      
    
    Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

