 Caméras et fenêtres Lors de la création de salles dans GameMaker Studio 2 vous devez configurer différents ports d'affichage et / ou caméras pour contrôler ce qui est affiché pour le lecteur. Les ports de vue sont, fondamentalement, de petites fenêtres dans votre monde de jeu qui vous permettent d'afficher les parties de joueur d'une pièce, à l'échelle ou 1: 1, et en tant que tels, ils sont essentiels lorsque votre salle de jeu est plus grande que la taille d'affichage. Les caméras définissent exactement ce qui sera affiché dans chaque port de vue. GameMaker Studio 2 vous permet 8 ports d'affichage indépendants (numérotés de 0 à 7) et un nombre illimité de caméras, dont seulement 8 peuvent être actives à la fois - une affectée à chacun des ports disponibles - bien que normalement vous ne besoin d'un ou deux ports d'affichage. Les caméras peuvent afficher différentes parties de la même pièce et peuvent être activées et désactivées ainsi que assignées à des ports d'affichage à tout moment, ce qui signifie que vous pouvez utiliser des caméras pour dessiner des éléments HUD ou pour avoir des effets d'écran partagé, ou pour créer des cinématiques pour Exemple. Essentiellement, vous positionnez une caméra dans une pièce et définissez la «vue» (zone) de la pièce qui lui sera visible, puis cette vue est dessinée vers un port de vue - notez que le port de vue peut être d'une taille différente pour la vue de la caméra et en tant que telle, vous pouvez déformer et mettre à l'échelle la vue de la caméra si elle est d'une taille autre que 1: 1 avec le port de vue. IMPORTANT! Il est facile de se tromper quand on parle de caméras, de vues et de ports de vue, alors clarifiez: La caméra: un point dans la pièce qui sera utilisé pour définir la façon dont la pièce est affichée - généralement avec la position, l'orientation, le champ de vision et le rapport hauteur / largeur La vue: ce que voit la caméra, en fonction de la position, de la projection et de la rotation de la caméra Le port de visualisation: la zone de l'écran où la vue de la caméra sera affichée Si vous ajoutez des caméras via l' éditeur de pièce, vous pouvez récupérer la valeur de leur ID de caméra à l'aide du view_camera variable. Vous pouvez ensuite manipuler la vue en utilisant les fonctions ci-dessous et vous pouvez même détruire les caméras par défaut si nécessaire, même si vous devrez attribuer une nouvelle caméra à la vue, sinon vous obtiendrez un comportement très imprévisible. Les caméras ajoutées à un port de vue dans l'éditeur de salle ont une portée globale, ce qui signifie qu'elles sont créées une fois lorsque vous démarrez le jeu, puis lorsque vous entrez dans chaque pièce, elles sont définies sur les valeurs définies dans l'éditeur de salle, donc si vous détruisez une caméra par défaut dans n'importe quelle pièce, elle cessera d'exister pour toutes les pièces. Quelque chose à noter à propos des caméras et des ports de vue est que la surface totale de la zone de délimitation pour tous les ports de vue actifs dans la première pièce du jeu est ce qui définit la taille du canevas d'arrière -plan (ou la taille de la fenêtre pour macOS, Ubuntu ( Linux ) et Windows ), et toutes les zones qui ne sont pas couvertes par un port de vue seront par défaut dessinées en utilisant la couleur de la fenêtre comme illustré par l'image ci-dessous: REMARQUE: Par défaut, vous devez sélectionner "Effacer le tampon d'affichage" dans l'éditeur de pièce pour la couleur à afficher, et vous ne pouvez définir la couleur qu'à l'aide de la fonction window_set_colour(). Si vous n'utilisez pas cette fonction, elle sera par défaut en noir. Vous devez faire attention lorsque vous utilisez plusieurs caméras car l'événement de dessin pour toutes les instances est appelé une fois pour chaque vue visible, donc si vous avez trois vues de caméra actives dans une pièce, l'événement de dessin sera exécuté trois fois à chaque étape (essentiellement trois fois le travail) qui peut être une cause de ralentissement si le jeu est volumineux ou complexe. Le view_current Cependant, la variable peut être utilisée pour limiter ces appels de dessin en vérifiant quelle vue est dessinée et uniquement les éléments de dessin spécifiques à un port de vue donné. Soyez également prudent lorsque vous créez vos propres caméras, comme si vous en créez une dans une pièce et ne la supprimez pas à l'aide du camera_destroy() vous pouvez obtenir une fuite de mémoire. Vous pouvez trouver un aperçu de toutes les fonctions disponibles dans les différentes sections ci-dessous, mais il convient de noter que certaines de ces fonctions nécessitent la configuration et l'utilisation de différentes matrices, vous pouvez donc consulter la section du manuel de la matrice. Fonctions. Notez également qu'il existe quelques fonctions de salle qui peuvent être utilisées pour obtenir et définir des caméras et afficher les valeurs de port dans des pièces autres que celle actuelle (voir la section sur les pièces ). Les fonctions suivantes peuvent être utilisées pour créer et détruire des caméras: camera_createcamera_create_viewcamera_destroycamera_apply Il existe également un certain nombre de fonctions pour régler et obtenir des informations sur la caméra: camera_set_view_matcamera_set_proj_matcamera_set_update_scriptcamera_set_begin_scriptcamera_set_end_scriptcamera_set_view_poscamera_set_view_sizecamera_set_view_speedcamera_set_view_bordercamera_set_view_anglecamera_set_view_targetcamera_set_defaultcamera_get_view_matcamera_get_proj_matcamera_get_update_scriptcamera_get_begin_scriptcamera_get_end_scriptcamera_get_view_xcamera_get_view_ycamera_get_view_widthcamera_get_view_heightcamera_get_view_speed_xcamera_get_view_speed_ycamera_get_view_border_xcamera_get_view_border_ycamera_get_view_anglecamera_get_view_targetcamera_get_defaultcamera_get_active Lorsque vous travaillez avec des caméras, vous devez leur attribuer un port de vue pour qu'elles soient «actives» et affichent quoi que ce soit. Ces ports d'affichage sont numérotés de 0 à 7 et peuvent être modifiés et positionnés à l'aide de différents tableaux de variables et de fonctions, et vous pouvez également vérifier lequel est en train de dessiner ou quelle caméra y est actuellement attachée. Les variables intégrées de portée globale suivantes sont disponibles: view_cameraview_currentview_enabledview_visibleview_xportview_yportview_wportview_hportview_surface_id Il existe également les fonctions suivantes pour gérer les ports d'affichage: view_get_cameraview_get_visibleview_get_xportview_get_yportview_get_wportview_get_hportview_get_surface_idview_set_cameraview_set_visibleview_set_xportview_set_yportview_set_wportview_set_hportview_set_surface_id Arrière: caméras et affichage Suivant: La fenêtre de jeu © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

