json_parse Cette fonction peut être utilisée pour analyser une chaîne JSON (créée précédemment à l'aide de json_stringify ou à partir de n'importe quelle source valide) et la convertir en une collection de tableaux ou de structures, où un tableau est l'équivalent d'un tableau JSON et une structure est l'équivalent d'un objet JSON. Vous fournissez la chaîne à analyser et la fonction renverra le tableau ou la structure de niveau supérieur qui peut ensuite être vérifié dans votre code. Si vous n'êtes pas sûr du contenu du JSON, vous pouvez utiliser les différentes fonctions variables (commetypeof() ouvariable_struct_get_names() ) pour vérifier le contenu renvoyé. Notez qu'essayer d'analyser une valeur invalide (c'est-à-dire: pas une chaîne) lèvera une erreur d'exception. Si la chaîne JSON fournie inclut "undefined" comme valeur pour une propriété, elle sera convertie en pointer_null lors de son analyse. Syntaxe:json_parse(json) Argument La description json Le JSON à analyser (une chaîne) Retour:Nested structs and arrays Exemple étendu: Dans cet exemple, nous analyserons la chaîne JSON suivante que nous contiendrons dans la variable "json":json = "{\"myObj\": { \"apples\":10, \"oranges\":12, \"potatoes\":100000, \"avocados\":0 }, \"myArray\":[0, 1, 2, 2, 4, 0, 1, 5, 1]}" Cette chaîne serait analysée quelque chose comme ceci:data = json_parse(json); if variable_struct_exists(data, "myObj") {
     if is_struct(data.myObj)     {     var _names = variable_struct_get_names(data.myObj);     var _str = "";     for (var i = 0; i < array_length(_names); i++;)         {         _str = _names[i] + ":
    " + string(variable_struct_get(data.myObj, _names[i]));         show_debug_message(_str);         }     } if variable_struct_exists(data, "myArray")     {     if is_array(data.myArray)         {            show_debug_message(data.myArray);         }     } }
   Le code ci-dessus analysera la chaîne JSON donnée, générant la sortie de console suivante: oranges: 12 potatoes: 100000 avocados: 0 apples: 10 [ 0,1,2,2,4,0,1,5,1 ] Retour: Encodage de fichiers Suivant: base64_encode © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

