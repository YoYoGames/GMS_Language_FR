
  
  physics_particle_get_data
  Cette fonction renvoie diverses informations sur chaque particule de la simulation physique en utilisant les drapeaux donnés vérifiés. Le tampon utilisé doit avoir été créé précédemment à l'aide de la fonction buffer_create(),
    et doit être de type "grow", sa taille étant approximativement celle des données de retour attendues. Les drapeaux sont définis à l'aide de l'une des constantes indiquées ci-dessous, et vous utiliserez le bitwise ou "|" pour créer une seule valeur de drapeau afin d'obtenir les informations souhaitées.
   
  
    
      
        Constant
        Description
        Type de données
      
      
        phy_particle_data_flag_typeflags
        La valeur du drapeau pour la particule.
        tampon_u32
      
      
        phy_particle_data_flag_position
        La position x et y de la particule.
        2 x tampon_f32
      
      
        phy_particle_data_flag_velocity (vitesse)
        La vitesse horizontale et verticale.
        2 x tampon_f32
      
      
        phy_particle_data_flag_colour
        La couleur et la valeur alpha (hexadécimale).
        tampon_f32
      
      
        phy_particle_data_flag_category
        La catégorie de la particule (telle que définie lorsque vous avez créé la particule ou le groupe auquel elle appartient).
        tampon_u32
      
    
  
   
  Syntaxe :
  physics_particle_get_data(buffer, flags)
  
    
      
        Arguments
        Description
      
      
        tampon
        Le tampon (précédemment créé) à utiliser pour stocker les données.
      
      
        drapeaux
        Les drapeaux à utiliser pour extraire des données sur des types de particules spécifiques.
      
    
  
   
  Les retours :
  Données de la mémoire tampon
   
  Exemple :
  var count = physics_particle_count() ; var flags = phy_particle_data_flag_position | phy_particle_data_flag_colour ; if (count > 0) {
     var buffer = buffer_create(count * 12, buffer_grow, 4) ; physics_particle_get_data(buffer, flags) ; for (var n = 0 ; n < count ; n++ ;) {
     var xx = buffer_read(buffer, buffer_f32) ; var yy = buffer_read(buffer, buffer_f32) ; var argb = buffer_read(buffer, buffer_u32) ; var alpha = (argb >> 24) & 255 ; draw_sprite_ext(sprBlob,
    0, xx, yy, 1, 1, 0, c_green, alpha) ; }
     buffer_delete(buffer) ;
     }
  
  Le code ci-dessus obtient le nombre de particules et crée une variable avec les drapeaux de données à vérifier, puis vérifie s'il y a des particules dans la pièce. S'il y en a, un tampon est créé et rempli avec les données de la particule, qui sont vérifiées et utilisées pour dessiner un sprite à la position de la particule.
    utilisées pour dessiner un sprite à la position de la particule.
   
   
   
  
    
      
        Retour : Particules molles du corps
        Suivant : physics_particle_get_data_particle
      
    
    Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

