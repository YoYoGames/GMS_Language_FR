
  
  external_define
  Cette fonction peut être utilisée pour définir un appel de fonction externe à une dll (pour Windows) ou une dylib (pour Mac) spécifique. Ce fichier peut être soit un fichier inclus, soit une partie d'une extension. Vous devez fournir le nom (et le chemin) du fichier, puis le nom de la fonction que vous souhaitez définir.
    que vous souhaitez définir. Ensuite, vous devez définir la convention d'appel à utiliser (voir la liste des constantes ci-dessous) ainsi que le type de résultat à attendre (également une constante, comme indiqué ci-dessous). Enfin, vous devez donner le nombre d'arguments que la
    peut prendre (de 0 à 15) et pour chacun des arguments, vous devez également spécifier son type. Veuillez noter que pour les fonctions ayant 4 arguments ou plus, tous les arguments doivent être de type ty_real.
  REMARQUE: ceci ne concerne que les dll ou dylib qui ont été ajoutées en tant que "fichiers inclus" dans l'IDE GameMaker Studio 2. Cela ne fonctionnera pas avec les fichiers ajoutés en tant qu'extensions, car ceux-ci nécessitent que vous définissiez les fonctions dans le paquet d'extension lui-même.
    lui-même.
   
  
    
      
        Constant
        Description
      
      
        dll_cdecl
        C'est l'appel C, C++ par défaut
      
      
        dll_stdcall
        Il s'agit de l'appel standard WinAPI( dllWindows seulement)
      
      
        ty_real
        Un argument de type nombre réel
      
      
        ty_string
        un argument de type chaîne de caractères à terminaison nulle
      
    
  
   
  Syntaxe :
  external_define(dll, name, calltype, restype, argnumb, argtype[0], argtype[1], ...argtype[10]) ;
  
    
      
        Arguments
        Description
      
      
        dll
        Le nom du fichier dll (chaîne de caractères)
      
      
        nom
        Le nom de la fonction (chaîne de caractères)
      
      
        type d'appel
        La convention d'appel utilisée
      
      
        restype
        Le type de résultat à attendre
      
      
        argnumb
        Le nombre d'arguments (0 - 10)
      
      
        argtype[0 ... 10]
        Les différents types d'arguments utilisés
      
    
  
   
   
  Les retours :
  Real (valeur d'identification unique de la fonction)
   
  Exemple :
  mon_funcion = external_define("MyDLL.dll", "MyMin", dll_cdecl, ty_real, 2, ty_real, ty_real) ;
  L'exemple de code ci-dessus définira une fonction externe appelée "MyMin" avec deux arguments.
   
   
   
  
    
      
        Retour : Système d'exploitation et compilateur
        Suivant : external_call
      
    
    Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

