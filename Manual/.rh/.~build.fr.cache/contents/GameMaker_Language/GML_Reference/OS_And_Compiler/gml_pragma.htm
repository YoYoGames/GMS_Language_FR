gml_pragma Le gml_pragma La fonction affecte la manière dont la cible donnée compile votre code et doit être appelée avec les différentes commandes pour optimiser davantage la compilation finale de votre projet. Ces commandes sont effectivement prétraitées avant la compilation du jeu et ainsi la fonction peut être placée n'importe où dans votre projet et elle sera toujours traitée avant que le jeu ne soit entièrement compilé. Les commandes disponibles sont les suivantes: " forceinline " - Lorsque la fonction est appelée avec le pragma "forceinline" dans une fonction de script, le YYC compilera le projet avec la fonction en ligne, plutôt que référencée. Cela donnera un coup de pouce supplémentaire au traitement, mais il faut faire attention lors de son utilisation car cela gonflera également la taille finale du fichier exécutable, en particulier si le code en ligne est volumineux et / ou utilisé à plusieurs endroits différents, et augmentera considérablement le temps de compilation. Notez que ce pragma n'est valable que lors de la construction en utilisant YYC. " global ", " [gml code] " - Le pragma "global" vous permet d'appeler du GML formaté sous forme de chaîne, à une portée globale, au moment de la compilation, avant que la première salle du jeu ne s'exécute. Par exemple:gml_pragma("global", "Init()"); Cela appellera la fonction de script "Init" avant que la première salle du jeu ne soit lancée. Notez que le GML fourni comme deuxième argument doit être une constante de temps de compilation, et notez également que vous ne pouvez pas utiliser ce pragma pour créer des instances ou effectuer des opérations qui nécessitent une pièce (ou quoi que ce soit dans une pièce) pour fonctionner. " PNGCrush " - Le pragma "PNGCrush" utilisera le programme PNGCrush sur chaque texture créée. Notez que cela peut augmenter considérablement le temps nécessaire à la compilation du jeu, vous ne voulez donc pas qu'il soit allumé tout le temps, bien que cela puisse faire des économies significatives sur la taille finale du fichier. " Texgroup.Scale ", " [TextureGroupName] ", " [Scale Divisor] " - Le "Texgroup.Scale" mettra à l'échelle le groupe de texture donné lors de la compilation. Vous devez donner deux arguments supplémentaires ici: le "[TexGroupName]", qui est le nom (une chaîne) du groupe de textures à mettre à l'échelle, et le "[Scale Divisor]" (également une chaîne), qui est le diviseur que vous souhaitez utiliser pour la mise à l'échelle, c'est-à-dire:gml_pragma("Texgroup.Scale", "level1", "2"); Cela réduira la moitié de toutes les textures du groupe de textures "level1". " UnityBuild ", " [enable / disable] " - Si vous appelez la fonction avec ce pragma et définissez l'argument enable / disable sur true puis lors de la compilation, il réduira tous les fichiers.cpp du projet en un seul fichier qu'il utilisera ensuite pour tout construire, par exemple:gml_pragma("UnityBuild", "true"); L'avantage de faire un build unitaire est que les builds sont plus rapides, mais l'inconvénient est qu'il fait une build complète à chaque fois, donc même si vous modifiez une seule partie du code, il reconstruira tout sans utiliser de fichiers mis en cache. Cela a été ajouté spécifiquement pour l'exportation Xbox One à l'aide de YYC, bien qu'il puisse être appelé pour d'autres versions ( YYC uniquement ). Pour plus d'informations sur les constructions d'unité, veuillez cliquer ici. REMARQUE: le premier argument du gml_pragma La fonction doit être une constante de chaîne de compilation et non une variable. Syntaxe:gml_pragma(command, [optional...]); Argument Description command Une chaîne avec l'une des commandes répertoriées ci-dessous. [optional] Certaines des commandes disponibles nécessitent un argument ou des arguments facultatifs. Celles-ci sont expliquées ci-dessous pour chaque commande. Retour:N/A Exemple:gml_pragma("forceinline"); L'exemple de code ci-dessus forcera la fonction de script là où elle est utilisée pour être intégrée lors de la compilation.  Retour: OS et compilateur Suivant:parameter_count © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

