
  
  achievement_post_score
  Vous pouvez utiliser cette fonction pour envoyer votre score au service de classement et de réussite choisi. Sur Android, vous envoyez l'ID de la table des scores sous la forme d'une chaîne de caractères (il s'agit de l'ID unique du classement qui a été attribué lorsque vous avez configuré le classement), alors que sur
    toutes les autres plateformes, vous fournissez le nom du classement défini sous forme de chaîne, puis vous indiquez la valeur réelle du score. La fonction déclenchera un événement social asynchrone où la carte DS renvoyée aura la clé/le code suivant async_load retournée contiendra les paires clé/valeur suivantes :
  
    "Type"- Il s'agit du type d'événement qui a été déclenché, qui sera la chaîne "achievement_post_score_result" pour cette fonction.
    "id" - Il s'agit de l'ID de l'événement et, pour cette fonction, elle renverra une constante GML GooglePlayServices_EVENT_ID_POST_SCORE .
    "leaderboard_id" - Il s'agit de l'ID unique du leaderboard qui a été mis à jour.
    "status" - Ce sera 1 si les scores ont été mis à jour avec succès, ou 0 si la requête a échoué.
    "daily_new_best" - Ce sera 1 si le score soumis était le meilleur de l'utilisateur au cours du dernier jour, ou 0 sinon.
    "daily_best" - Il s'agit du meilleur score de l'utilisateur au cours du dernier jour de jeu.
    "weekly_new_best" - Ce sera 1 si le score soumis était le meilleur de l'utilisateur au cours de la dernière semaine, ou 0 sinon.
    "weekly_best" - Il s'agit du meilleur score de l'utilisateur de la semaine dernière.
    " all_time_new_best" - Ce sera 1 si le score soumis était le meilleur de tous les temps de l'utilisateur, ou 0 sinon.
    "all_time_best" - Il s'agit du meilleur score de l'utilisateur de tous les temps.
  
   
  Syntaxe :
  achievement_post_score(leaderboard, score)
  
    
      
        Arguments
        Description
      
      
        Tableau de classement
        Le nom/ID du classement.
      
      
        score
        Le score à envoyer.
      
    
  
   
  Les retours :
  N/A
   
  Exemple étendu :
  if achievement_available() { achievement_post_score(global.LeaderboardID, 1000) ; }
  Le code ci-dessus vérifie si le service de classement et d'accomplissement choisi est disponible et, si c'est le cas, il affiche un score dans la table de score appelée "Leaderboard". Cela déclenchera un événement social asynchrone qui peut être analysé comme suit :
  if async_load[ ? "id"] == GooglePlayServices_EVENT_ID_POST_SCORE {
     if async_load[ ? "type"] == "achievement_post_score_result" {
     if async_load[ ? "status"] == 1 {
     global.Best_Day = async_load[ ? "daily_best"] ; global.Best_Week = async_load[ ? "weekly_best"] ; global.Best = async_load[ ? "all_time_best"] ; }
     }
     }
  
  Le code ci-dessus vérifie la carte DS async_load pour les clés "id" et "type" qui correspondent à cette fonction, puis il vérifie le statut de l'événement. Si le statut est 1, certaines valeurs de la carte DS sont stockées dans des variables globales.
    globales.
   
   
   
  
    
      
        Retour : Réalisations et classements
        Suivant : achievement_increment
      
    
    Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

