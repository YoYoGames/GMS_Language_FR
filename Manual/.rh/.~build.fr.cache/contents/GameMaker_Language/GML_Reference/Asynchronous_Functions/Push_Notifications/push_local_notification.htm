push_local_notification Cette fonction peut être utilisée pour définir une notification locale à afficher à une date donnée à une heure donnée. «Fire_time» est la date / heure à laquelle la notification doit être envoyée sur l'appareil de l'utilisateur (vous pouvez utiliser les fonctions de date et d'heure de GameMaker Studio 2 pour l'obtenir), et vous pouvez également donner à la notification un titre et un texte de message. en tant que chaîne de charge utile qui sera transmise à votre jeu lorsque les utilisateurs appuient sur la notification. REMARQUE: l'argument «titre» est ignoré sur iOS et le nom du jeu est affiché à la place. Appuyez sur la notification pour démarrer le jeu sur l'appareil et déclencher un événement de notification push asynchrone où le async_load La carte DS peut ensuite être analysée pour vérifier la chaîne de charge utile et effectuer toute action requise. REMARQUE: cette fonctionnalité est limitée aux modules cibles iOS et Android Syntaxe:push_local_notification(fire_time, title, message, data); Argument Description fire_time La date / heure de déclenchement de la notification title Le titre de la notification (une chaîne) message Le texte du message de notification (une chaîne) data Le paquet de données à envoyer à votre jeu (une chaîne) Retour:N/A Exemple étendu Dans cet exemple, nous enverrons une notification push locale en utilisant le code suivant:var fireTime = date_inc_day(date_current_datetime(), 1); var data = "daily_reward"; push_local_notification(fireTime, "Ahoy!", "Catch The Haggis Has A Present", data); Cela définira une minuterie pour "pousser" une notification à l'appareil lorsqu'un jour s'est écoulé. À la fin de la journée, si votre jeu est en arrière-plan ou n'est pas en cours d'exécution, une notification sera affichée à l'utilisateur avec le titre et le message donnés (sur iOS, le nom du jeu est affiché et le titre est ignoré), puis un événement de notification push asynchrone sera appelé. Notez que si le jeu est au premier plan au moment de la notification, il ne sera pas affiché, mais l'événement asynchrone se déclenchera toujours. Dans l'événement lui-même, vous géreriez le rappel quelque chose comme ceci: Async Event de la manière suivante: var type = ds_map_find_value(async_load, "type"); var status = ds_map_find_value(async_load, "status"); if status == 0     {
         //error of some kind     var error = ds_map_find_value(async_load, "error");     show_debug_message("error=" + string(error));     }
     else
         {
         if type == "register"         {
             global.reg_id = ds_map_find_value(async_load, "reg_id");         }
         else
             {
             var data = ds_map_find_value(async_load, "data");             if data == "daily_reward"             {
                 global.Gold += 1000;             }
             }
         }
   Retour: Notifications push Suivant:push_get_first_local_notification © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

