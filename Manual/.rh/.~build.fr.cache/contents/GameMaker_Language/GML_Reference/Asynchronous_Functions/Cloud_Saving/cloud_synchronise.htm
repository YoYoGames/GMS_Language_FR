cloud_synchronise Cette fonction serait normalement appelée au début d'un nouveau jeu et est utilisée pour récupérer l'état actuel du service cloud au démarrage du jeu. La fonction renvoie une valeur d'identifiant unique qui serait ensuite utilisée dans l' événement cloud asynchrone pour récupérer les informations pertinentes de la carte DS créée. Cette fonction enverra vers le cloud pour les données, qui déclenchera alors l'événement asynchrone approprié. Dans ce cas, vous pouvez vérifier le retour async_load Carte DS pour les valeurs suivantes: "status": Ceci contient le code de statut, où une valeur négative indique une erreur, dont une description sera contenue dans la "errorString". Une valeur de 0 (ou une valeur positive) indique un succès (voir ci-dessous pour les valeurs exactes), et le "resultString" contiendra les données retournées ou un message de réussite. "id": l'identifiant renvoyé par la fonction appelée. Si vous déclenchez une série de cloud_ demandes, vous devez savoir à laquelle vous obtenez la réponse, et vous utiliserez donc cette valeur pour la comparer à la valeur que vous avez stockée lorsque vous avez initialement envoyé la demande pour trouver la bonne. "description": La description du dernier fichier téléchargé. "resultString": il contient une chaîne qui est le blob de données renvoyé par le cloud. "errorString": renvoie une chaîne d'erreur pour toute erreur. La signification exacte de l'entrée de carte "état" renvoyée est expliquée dans le tableau suivant: Valeur du statut errorString / resultString Description -1 errorString = "Non connecté à <SERVICE>" You have not successfully logged in to the given Cloud Service 0 resultString = données récupérées New game data downloaded from the cloud (following a cloud_synchronise call) 1 resultString = "Déjà synchronisé" No new data since you last called cloud_synchronise 2 resultString = "ConflictDeferral" A conflict was encountered, but the gamer chose to ignore it 3 resultString = "GameUploadSuccess" data from cloud_string_save() or cloud_file_save() was successfully uploaded to the cloud -n errorString = Description de l'erreur Any other negative number means a synchronisation failure Syntaxe:cloud_synchronise(); Retour:Real Exemple étendu: Cette fonction serait appelée dans un événement comme l' événement de démarrage du jeu ou dans un objet placé dans la première pièce de votre jeu, l'idée étant que vous vérifiez le blob de données actuel du serveur cloud pour voir s'il est à la hauteur date ou pas.cloud_check = cloud_synchronise(); Vous voudrez alors vérifier le retour DS Map dans l' événement cloud asynchrone pour obtenir l'état et la chaîne renvoyée, s'il y en a une, avec quelque chose comme le code suivant:if ds_map_find_value(async_load, "id") == cloud_check    {
        if ds_map_find_value(async_load, "status") < 0       {
           show_message_async("Cloud Services not available. Please check connectivity.");       }
        else
           {
           if ds_map_find_value(async_load, "status") == 0          {
              var file = file_text_open_write("Save.txt");          file_text_write_string(file, ds_map_find_value(async_load, "resultString"));          file_text_close(file);
              }
           }
        }
   Le code ci-dessus vérifie que l'appel de fonction asynchrone correct est en cours de révision, puis obtient l'état de la carte DS cloud renvoyée. si le statut est un nombre négatif, quelque chose s'est mal passé et l'utilisateur est informé, sinon le code continuera et récupérera les données synchronisées et les écrira dans un fichier texte pour une utilisation ultérieure.  Retour: Cloud Saving Suivant:cloud_string_save © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

