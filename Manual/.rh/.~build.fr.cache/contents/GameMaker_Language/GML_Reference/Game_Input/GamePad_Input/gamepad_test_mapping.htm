



  
  gamepad_test_mapping
  Cette fonction peut être utilisée pour définir le mapping du gamepad sur les cibles qui le permettent. Vous fournissez l'index "slot" pour le gamepad à définir, puis la chaîne map, qui doit avoir été créée en utilisant le format SDL avec les champs suivants :
  <guid>,<description>,<plateforme:<nom-de-la-plateforme>,<bindings>
  Les détails qui doivent être inclus dans chacun de ces champs sont les suivants :
  
    guid - une chaîne de chiffres et de lettres qui identifie de manière unique un type de périphérique (elle peut être récupérée à l'aide de la fonction gamepad_get_guid() fonction)
    description - une description Ascii du périphérique (elle peut être récupérée à l'aide de la fonction gamepad_get_description() fonction)
    platform-name - sera soit "platform:android", "platform:windows", "linux", ou "mac" (notez que cela sera ajouté automatiquement à la chaîne lorsque vous appelez cette fonction, et donc vous n'avez pas besoin de le fournir lorsque vous construisez vos propres chaînes de mappage).
      n'avez pas besoin de le fournir lorsque vous construisez vos propres chaînes de mappage)
    bindings - un ensemble d'entrées séparées par un "," pour lier l'entrée réelle à des constantes GML spécifiques.
  
  La liste des entrées séparées par des virgules suit un format spécifique pour chaque entrée :
  <nom-gp-abstrait>:<liaison-valeur>.
  Ici, <value-binding> (c'est-à-dire l'entrée directe du gamepad) peut être l'un des éléments suivants :
  
    a<N> - Ceci représente un axe du gamepad, où le <N> est un des axes de 0 à gamepad_axis_count() -1
    b<N> - Ceci représente un bouton du gamepad, où le <N> est un des boutons de 0 à gamepad_button_count() -1
    h<N>.<mask> - Ceci représente un chapeau du gamepad, où le <N> représente un chapeau de 0 à gamepad_hat_count() -1, et le <mask> sera soit 1, 2, 4, ou 8.
  
  Chaque valeur d'entrée doit être liée à un nom SDL, exprimé sous la forme <>abstract-gp-name> , qui est à son tour lié à une constante GML. Le tableau ci-dessous montre l'équivalence entre le nom SDL et la constante GameMaker Studio 2:
   
  
    
      
        Nom du SDL
        NomGML 
      
      
        a
        gp_face1
      
      
        b
        gp_face2
      
      
        x
        gp_face3
      
      
        y
        gp_face4
      
      
        épaule gauche
        gp_épaulière
      
      
        déclencheur gauche
        gp_épaulière
      
      
        épaule droite
        gp_shoulderr
      
      
        gâchette droite
        gp_shoulderrb
      
      
        guide
        gp_select
      
      
        commencer
        gp_start
      
      
        manche gauche
        gp_stickl
      
      
        manche droit
        gp_stickr
      
      
        dpup
        gp_padu
      
      
        dpdown
        gp_padl
      
      
        dpleft
        gp_padr
      
      
        dpright
        gp_padd
      
      
        leftx
        gp_axislh
      
      
        gaucher
        gp_axislv
      
      
        rightx
        gp_axisrh
      
      
        droitier
        gp_axisrv
      
    
  
   Lorsque vous avez construit votre chaîne de mappage, elle doit ressembler à quelque chose comme ceci :
  "050000005e040000fd020000ffff3f00,Xbox Wireless Controller,a:b0,b:b1,start:b4,dpdown:h0.4,dpleft:h0.8,dpright:h0.2,dpup:h0.1,guide:b6,leftshoulder:b9,leftstick:b7,lefttrigger:a4,leftx:a0,lefty:a1,rightshoulder:b10,rightstick:b8,righttrigger:a5,rightx:a2,righty:a3,x:b2,y:b3,platform:android"
   
  Syntaxe :
  gamepad_test_mapping(index, mapping_string) ;
  
    
      
        Arguments
        Description
      
      
        indice
        Quel "slot" d'index de gamepad à définir.
      
      
        couleur
        La chaîne de la carte à utiliser (voir la description pour plus d'informations).
      
    
  
   
  Les retours :
  N/A
   
  Exemple :
  var mapping = gamepad_get_guid(global.padIndex) + "," + gamepad_get_description(global.padIndex) ; var len = array_length(global.PadInstances) ; for( i = 0 ; i < len ; i += 2) {
     var left = global.PadInstances[i] ; var right = global.PadInstances[i+1] ; mapping += "," + left.sdlLabel + " :" + right.binding ; }
     gamepad_test_mapping(global.padIndex, mapping) ;
  Le code ci-dessus passe en boucle à travers un certain nombre d'instances et utilise les valeurs des différentes variables qu'elles contiennent pour créer une chaîne de mappage, qui est ensuite définie pour être utilisée sur le gamepad dans l'indice de slot donné.
   
   
   
  
    
      
        Retour : Entrée de la manette de jeu
        Suivant : gamepad_remove_mapping
      
    
    Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

