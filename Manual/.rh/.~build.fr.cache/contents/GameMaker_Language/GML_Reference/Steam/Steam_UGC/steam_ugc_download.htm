 steam _ugc_download Avec cette fonction, vous pouvez télécharger une image d'aperçu pour tout élément UGC donné. Le ugc_handle est la valeur d'identification unique de l'image (que vous pouvez obtenir en utilisant la fonction steam_ugc_send_query() ), et le nom du fichier de destination est le nom (et le chemin local dans le Steam ) que vous souhaitez donner au fichier image une fois le téléchargement terminé. Lors de l'utilisation de cette fonction, il déclenchera un Steam Asynchronous pour signaler les détails du fichier image demandé contenant les paires clé / valeur suivantes dans le async_load ds_map: " id " - L'ID asynchrone renvoyé par la fonction appelante " result " - Le résultat de l'opération (une valeur réelle). Ce sera soit la constante GML ugc_result_success ou un autre nombre réel. Vous devez donc vérifier cette constante pour vous assurer que l'appel a réussi et, dans le cas contraire, quelque chose n'a pas fonctionné correctement. Le reste des valeurs possibles renvoyées est affiché comme le résultat de la valeur Steam "EResult" et vous devriez voir steamclientpublic.h dans les en-têtes du SDK pour les 89 valeurs possibles. " event_type " - Cette clé contiendra la valeur " ugc_download " " original_filename " - Cette clé contient le nom d'origine du fichier image sur le serveur (une chaîne) " dest_filename " - Cette clé contient le nom du fichier image que vous avez passé (une chaîne) " ugc_handle " - Cette clé contient le ugc_handle valeur que vous avez transmise à la fonction appelante Syntaxe:steam_ugc_download(ugc_handle, dest_filename); Argument Description ugc_handle La poignée unique pour l'aperçu à télécharger. dest_filename Le nom du fichier avec lequel enregistrer l'aperçu. Retour:Async ID Exemple étendu: Dans cet exemple, nous appelons d'abord la fonction et stockons la valeur de l'ID asynchrone dans une variable:steam_get = steam_ugc_download(steam_handle, "\UGC\Preview_file.png"); Cela enverrait ensuite une demande de fichier à l' Steam, générant un événement asynchrone que nous traiterions comme suit:var event_id = async_load[? "id"]; if event_id == steam_get     {
         var type = async_load[? "event_type"];     if type == "ugc_download"         {
             sprite_delete(preview_sprite);         preview_sprite = sprite_add(async_load[? "dest_filename"], 0, false, false, 0, 0);         }
         }
   Le code ci-dessus vérifie le type d'événement, puis crée un sprite à partir de l'image téléchargée.  Retour: UGC Suivant: steam _is_screenshot_requested © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

