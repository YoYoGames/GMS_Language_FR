dot_product Le produit scalaire est une valeur exprimant la relation angulaire entre deux vecteurs et se trouve en prenant deux vecteurs, en les multipliant ensemble puis en ajoutant les résultats. Le nom «produit scalaire» est dérivé du point centré «·» qui est souvent utilisé pour désigner cette opération (le nom alternatif «produit scalaire» met l'accent sur la nature scalaire plutôt que vectorielle du résultat). La formule mathématique réelle peut être écrite comme ceci: Donc, en 2D le produit scalaire des vecteurs a[x1,y1] et b[x2,2] est x1x2 + y1y2, ce qui signifie que le dot_product dans GameMaker Studio 2 est calculé comme suit:a · b = (x1*x2)+(y1*y2); La chose curieuse à propos du produit scalaire est la relation qu'il a avec l'angle formé par les vecteurs d'entrée qui peut être exprimé comme:a · b = (length of a) * (length of b) * cos(angle) C'est-à-dire que le produit scalaire de deux vecteurs sera égal au cosinus de l'angle entre ces vecteurs, multiplié par les longueurs de chacun d'eux. Voici une image pour illustrer: REMARQUE: pour plus d'informations sur les vecteurs, cliquez ici. Il y a quelques choses que nous pouvons maintenant énoncer à partir de deux vecteurs quelconques en relation avec le résultat de leur produit scalaire: Si a et b sont perpendiculaires (à 90 degrés l'un par rapport à l'autre), le résultat du produit scalaire sera nul, car cos(ang) sera nul Si l'angle entre a et b est inférieur à 90 degrés, le produit scalaire sera positif (supérieur à zéro), comme cos(ang) sera positif Si l'angle entre a et b est supérieur à 90 degrés, le produit scalaire sera négatif (inférieur à zéro), comme cos(ang) sera négatif Alors qu'est-ce que cela signifie pour ceux d'entre nous qui créent des jeux? Eh bien, cette relation mathématique peut être utilisée dans de nombreuses circonstances, mais la meilleure façon de la voir est de construire un scénario réel et de voir par vous-même ce qui se passe. L'un des moyens les plus simples de le faire est de générer un simple contrôle de "ligne de vue" pour un ennemi dans, par exemple, un jeu de plate-forme afin que l'ennemi "voit" le joueur s'il est à moins de 90 ° de chaque côté de son vecteur normal. Fondamentalement, nous devons obtenir le vecteur normal de l'ennemi (c'est-à-dire composé d'une direction et d'une distance de vue) et ensuite nous devons obtenir le vecteur du joueur vers l'ennemi. Nous obtiendrons alors le dot_product de ces vecteurs, et si le résultat est positif, le joueur a été vu, et s'il est négatif, il ne l'a pas. Le code réel pour que cela fonctionne est fourni dans l'exemple ci-dessous. Syntaxe:dot_product(x1, y1, x2, y2) Argument Description x1 La coordonnée x du premier vecteur. y1 La coordonnée y du premier vecteur. x2 La coordonnée x du deuxième vecteur. y2 La coordonnée y du deuxième vecteur. Retour:Real Exemple:var x1, y1, x2, y2; x1 = lengthdir_x(1, image_angle); y1 = lengthdir_y(1, image_angle); x2 = o_Player.x - x; y2 = o_Player.y - y; if dot_product(x1, y1, x2, y2) > 0 seen=true else seen=false; Le code ci-dessus crée un vecteur en utilisant l'angle d'image des instances, puis obtient le vecteur de l'objet joueur "o_Player" pour lui-même. Enfin, il calcule le produit scalaire de ces deux vecteurs et s'il est supérieur à 0, il définit la variable "vu" à vrai, et s'il est égal ou inférieur à 0, il le met à "faux".  Retour: Angles et distance Suivant:dot_product_3d © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

