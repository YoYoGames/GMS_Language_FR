
  
  gc_get_stats
  Avec cette fonction, vous pouvez récupérer des informations sur l'état actuel du ramasseur de déchets. La fonction renvoie une structure contenant les variables suivantes (notez que le terme "objets" désigne ici tout ce qui peut être récupéré et non les instances d'objets générales définies dans le navigateur d'actifs)
    fait référence ici à tout ce qui peut être récupéré par le ramasseur de déchets et non aux instances générales d'objets telles que définies dans le navigateur d'actifs) :
  
    objects_touched - il s'agit du nombre d'objets actifs que le ramasseur d'ordures a trouvé dans la trame précédente. Ce nombre varie en fonction de la génération qui a été collectée.
    objects_collected - le nombre d'objets que le ramasseur de déchets a déterminé comme n'étant pas actifs dans la trame précédente, et qui peuvent donc être supprimés.
    traversal_time - il s'agit du temps en microsecondes (sur le thread principal) que le ramasseur de déchets a pris pour déterminer quels objets étaient actifs.
    collection_time - c'est le temps en microsecondes (sur un thread séparé) que le ramasseur d'ordures a pris pour nettoyer les objets jugés inactifs.
    gc_frame - c'est un compteur qui est incrémenté chaque fois qu'un passage de garbage collection se produit. Si le ramassage des déchets est désactivé, il ne sera pas incrémenté.
    generation_collected - il s'agit de l'indice de la génération qui a été collectée en dernier. 0 est la génération la plus jeune et 3 est actuellement la plus ancienne.
    num_generations - il s'agit du nombre total de générations de collecte de déchets.
    num_objects_in_generation - il s'agit d'un tableau (de taille num_generations) contenant le nombre d'objets dans chaque génération.
  
  REMARQUE: sur la plate-forme cible HTML5, le ramassage des déchets est géré par le moteur JavaScript et, par conséquent, les variables membres de la structure ci-dessus renverront toutes 0 si cette fonction est utilisée sur cette plate-forme.
  Lorsque vous utilisez cette fonction, veuillez noter que les informations affichées pour les objets ne sont mises à jour que lorsque le traitement d'une génération complète est terminé, ce qui peut prendre plusieurs images en fonction du réglage de la durée de l'image (voir ici pour plus d'informations sur la durée de l'image).
   
  Syntaxe :
  gc_get_stats() ;
   
  Les retours :
  Structure
   
  Exemple :
  if (global.debug == true) {
     var _s = gc_get_stats() ; var _t = _s.traversal_time ; var _c = _s.collection_time ; show_debug_message("Traversal time = " + string(_t)) show_debug_message("Collection time = " + string(_c)) }
  
  Le code ci-dessus vérifie une variable globale et, si elle est vraie, il récupère des informations du collecteur de garage et les envoie à la console sous forme de messages de débogage.
   
   
   
  
    
      
        Retour : Collecte des ordures
        Suivant : gc_enable
      
    
    Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

