xboxlive_get_stats_for_user Cette fonction peut être utilisée pour récupérer des données sur des statistiques spécifiques à partir des serveurs Xbox Live. Vous fournissez l'ID utilisateur tel que renvoyé par la fonction xboxlive_get_user(), puis votre ID de configuration de service de jeux (comme indiqué sur la console XDP), et enfin les statistiques requises. Vous pouvez demander jusqu'à un maximum de 14 statistiques, mais cela ne garantit pas que vous obtiendrez 14 résultats de statistiques, car il y a une limite à la longueur totale de la requête et donc le nombre maximum de statistiques dépend de la longueur des noms de les statistiques elles-mêmes. La fonction renverra 0 si la demande de statistiques a été envoyée ou -1 s'il y a eu une erreur, et le rappel déclenchera un événement asynchrone du système. Cet événement aura la carte spéciale DS async_load qui doit ensuite être analysé pour la clé suivante: " event_type " - doit contenir la chaîne " stat_result " si l'événement a été déclenché par cette fonction Si le type d'événement concerne cette fonction, il y aura également la touche supplémentaire suivante: " utilisateur " - contient l'ID utilisateur pour les statistiques demandées. Il peut également y avoir un ensemble supplémentaire de paires clé-valeur, où la clé est le nom de statistique demandé et la valeur la valeur de cette statistique sur le serveur. Notez que si une statistique n'a jamais été créée pour cet utilisateur (car ils n'ont pas déclenché les événements qui l'ont définie), aucune valeur ne peut être retournée pour cette statistique (ds_map_exists() peut être utilisé pour vérifier les statistiques dans le async_load carte). Si la demande échoue en raison de la longueur de la demande trop grande, il devrait y avoir un message dans la sortie de la console indiquant le code d'erreur:xboxlive_get_stats_for_user - exception occurred getting results - 0x80190190 Lorsque cela se produit, le mappage DS d'événement asynchrone doit avoir une clé «réussi» avec une valeur de «0», et dans ce cas, vous devez essayer de récupérer moins de statistiques en un seul appel. Syntaxe:xboxlive_get_stats_for_user(user_id, serviceconfig_id, statname1, …); Argument Description user_id Le pointeur de l'ID utilisateur. serviceconfig_id L'ID du fichier de configuration du service statname1 (2, 3, etc...) Les noms de statistiques pour lesquels récupérer les informations. Retour:Real Exemple:var _uid = xboxlive_get_user(0); var _configid = "00000000-0000-0000-0000-000000000000"; xboxlive_get_stats_for_user(xbuser, _configid, "GameProgress", "CurrentMode"); Le code ci-dessus obtient l'ID utilisateur, puis l'utilise pour demander des informations sur des statistiques spécifiques pour cet utilisateur.  Retour: Statistiques et classements Suivant:xboxlive_read_player_leaderboard © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

