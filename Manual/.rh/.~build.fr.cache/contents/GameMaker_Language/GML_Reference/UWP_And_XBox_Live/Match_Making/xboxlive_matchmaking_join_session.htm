xboxlive_matchmaking_join_session Cette fonction vous permet de rejoindre une session spécifique via un handle de session. Ceci est similaire à rejoindre une invitation à une session, mais est utile lorsque votre propre serveur effectue le matchmaking plutôt que de compter sur le matchmaking live xbox. La fonction vous oblige à fournir l'ID utilisateur - que vous pouvez récupérer pour une manette de jeu particulière en appelant le xboxlive_user_for_pad() fonction - ainsi que le modèle Secure Device Association, que vous devez avoir créé au préalable dans le tableau de bord XDP. Pour le descripteur de session, vous devrez d'abord avoir récupéré l '"id de corrélation" de la session que vous souhaitez rejoindre. Lorsque la session d'origine est créée, l'événement social asynchrone sera "session_created "et il inclura une entrée" correlationid "dans la carte renvoyée (voir xboxlive_matchmaking_create() ). Vous devrez avoir cet identifiant renvoyé au serveur pour qu'il soit ensuite transmis lors de la réception d'une demande de matchmaking. Une fois que le jeu de jonction a reçu "l'identifiant de corrélation" du serveur, il peut alors appeler cette fonction en passant l'identifiant de corrélation comme argument de gestion de session. La fonction retournera -1 s'il y a eu une erreur (auquel cas il devrait y avoir une sortie de console détaillant le problème), ou une valeur d'ID de demande dans le cas contraire. La valeur de l'ID de demande peut ensuite être utilisée pour identifier l' événement social asynchrone correct pour cette fonction. Cet événement sera déclenché lorsque la session aura été créée et contiendra une DS Map dans la variable async_load avec les paires clé / valeur suivantes: " requestid " - contient l'ID de demande tel que renvoyé par la fonction appelante " status " - contient la chaîne "session_player_joined" pour vous informer du type d'événement qui a été déclenché. " sessionid " - contient l'ID de session, ou -1 en cas d'échec. " sessionOwner < index > " - contient l'ID de l'hôte de session si une session a été trouvée (< index > est une valeur de 0 à "num_results" - 1) " id " - contient la constante MATCHMAKING_SESSION " error " - sera 0 si tout va bien, ou -1 si quelque chose a échoué Lorsqu'un nouveau joueur rejoint la session, la carte DS aura ces paires clé / valeur: " id " - contient la constante MATCHMAKING_SESSION " sessionid " - contient l'ID de session " status " - contient la chaîne "session_player_joined" " requestid " - La valeur d'ID renvoyée par la fonction qui a créé la demande Syntaxe:xboxlive_matchmaking_join_session(user_id, session_handle, sdatemplate); Argument Description user_id Le pointeur de l'ID utilisateur à utiliser session_handle L '"id de corrélation" à utiliser pour l'ID de session (voir la description ci-dessus) sdatemplate Le nom du modèle d'association d'appareil sécurisé à utiliser Retour:Request ID (integer) Exemple:Request_ID = xboxlive_matchmaking_join_session(global.UserID, global.SessionID, "PeerServerTraffic"); Ce qui précède enverra une demande pour rejoindre la session multijoueur donnée, en stockant la valeur de l'ID de demande dans une variable afin qu'elle puisse être vérifiée dans l'événement asynchrone.  Retour: Match Making Suivant:xboxlive_matchmaking_session_leave © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

