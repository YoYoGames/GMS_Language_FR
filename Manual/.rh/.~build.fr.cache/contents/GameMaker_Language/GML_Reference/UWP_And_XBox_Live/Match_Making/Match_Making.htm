 Match Making Le matchmaking (multijoueur) pour Xbox Live et UWP nécessite un peu de configuration, en partie via un fichier de configuration qui définit les connexions réseau que vous allez utiliser, et en partie via la configuration de modèles de session et de trémies de matchmaking sur le portail des développeurs Xbox. GameMaker Studio 2 prend en charge cela via l'utilisation de la cible UWP et vous permet d'effectuer les opérations suivantes: Créer une session multijoueur Trouvez (et / ou rejoignez) une session multijoueur Soyez averti lorsque des joueurs concernés rejoignent ou quittent une session, et recevez leurs détails de connexion réseau Être averti lorsque l'hôte de session migre vers un autre utilisateur Obtenir une liste des utilisateurs de la session Quitter une session La connectivité réseau Xbox Live repose sur quelque chose appelé Secure Device Association, qui est essentiellement un contrat définissant exactement comment l'appareil se connecte à d'autres appareils et quel type de données il est capable de communiquer à l'aide de cette connexion. Ceux-ci sont configurés à l'aide d'un fichier que vous devez inclure dans votre projet. Vous pouvez trouver un exemple de ce fichier ici. Les principaux points importants du fichier sont le protocole et les numéros de port pour chaque description de socket, car ils doivent correspondre à ce que vous avez réellement configuré dans le code. Une fois que vous avez créé ce fichier manifeste réseau, il doit être ajouté au projet en tant que fichier inclus. Ensuite, dans les Options de jeu UWP, dans l'onglet Général Xbox One, il doit être sélectionné dans la zone de liste déroulante «Fichier inclus pour le manifeste de configuration réseau». Pour créer une session multijoueur, vous devez spécifier le modèle de session qui sera utilisé. Ces modèles de session sont définis sur le XDP, mais un exemple est présenté ci-dessous:Session Name: MatchSession Contract Version: 107 Session Template (JSON text):     {
         "constants": {         "system": {             "version": 1,             "maxMembersCount": 12,             "capabilities": {             },
                 "memberInitialization": {                 "externalEvaluation": false,                 "membersNeededToStart": 1                 }
                 },
             "custom": {}         }
         }
   Une description des champs peut être trouvée dans "Vue d'ensemble de la session" dans le fichier d'aide XDK. Notez que nous ne prenons actuellement pas en charge la définition dynamique des paramètres de session à partir de GameMaker Studio 2. Avec le modèle de session, un hopper de matchmaking doit également être mis en place pour permettre à la session d'être trouvée (ceci est également fait sur le XDP). Les trémies sont utilisées pour définir les règles qui sont utilisées lors de la mise en correspondance des joueurs. Comme pour les paramètres de session, nous ne prenons actuellement pas en charge la définition dynamique des paramètres de trémie à partir de GameMaker: Studio. Consultez la section "Configuration de la correspondance SmartMatch" dans le fichier d'aide XDK pour plus de détails. Les fonctions suivantes sont disponibles pour le matchmaking XboxLive (notez que vous devrez également utiliser les fonctions de mise en réseau GameMaker Studio 2 pour les connexions, etc.): xboxlive_matchmaking_startxboxlive_matchmaking_stopxboxlive_matchmaking_createxboxlive_matchmaking_findxboxlive_matchmaking_session_get_usersxboxlive_matchmaking_join_sessionxboxlive_matchmaking_session_leave GameMaker Studio 2 fournit un ensemble supplémentaire de fonctions de mise en relation que vous pouvez utiliser pour inviter d'autres joueurs du réseau à rejoindre une session, ou pour vous permettre d'accepter une invitation à rejoindre la session de quelqu'un d'autre. Les fonctions disponibles sont: xboxlive_matchmaking_send_invitesxboxlive_matchmaking_set_joinable_sessionxboxlive_matchmaking_join_invite Lorsque le joueur accepte une invitation d'un autre joueur, l'une des deux choses suivantes se produit: Si votre jeu est en cours d'exécution, vous recevrez un événement social asynchrone avecasync_load Carte DS contenant les clés / valeurs suivantes: " id " - Ce paramètre sera défini sur MATCHMAKING_INVITATION. " invitation_id " - Il s'agit de la valeur de l'identifiant de session unique " invitation_host " - Il s'agit de la valeur d'ID de session unique pour l'hôte de session Vous devez enregistrer les valeurs d'ID et d'hôte, puis quitter toutes les sessions dont vous avez besoin et appeler la fonction xboxlive_matchmaking_join_invite(), en transmettant comme arguments l'ID d'invitation et les valeurs d'hôte d'invitation dans un événement Step. Si votre jeu n'est pas en cours d'exécution, il sera lancé par le système d'exploitation. Vous recevrez le même type d' événement social asynchrone avec les mêmes clés définies que celles répertoriées ci-dessus. Enregistrez-les dans des variables, puis connectez-vous au matchmaking Xbox Live et enfin appelez xboxlive_matchmaking_join_invite(). Une fois que vous avez appelé xboxlive_matchmaking_join_invite() l'utilisateur tentera de rejoindre la session et vous recevrez des événements sociaux asynchrones comme si vous aviez appelé xboxlive_matchmaking_find() sur cette session.  Retour: UWP et XBox Live Suivant: Utilisateurs et comptes © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

