uwp_check_privilege Avec cette fonction, vous pouvez vérifier qu'un utilisateur donné a un privilège choisi. La fonction retournera true ou false dans l'événement asynchrone du système selon que le privilège est activé ou non, et si vous définissez l'argument try_resolution sur true et que le privilège n'est pas activé, elle ouvrira également une boîte de dialogue système (suspension du jeu ) pour inviter l'utilisateur à mettre à niveau le compte ou tout ce qui est nécessaire pour obtenir le privilège. Si l'utilisateur active ensuite l'option requise, la fonction retournera true. La fonction nécessite que vous utilisiez l'une des constantes suivantes pour la demande de privilège: Constant Description uwp_privilege_internet_browsing Vérifiez si la navigation sur Internet est autorisée uwp_privilege_social_network_sharing Vérifiez si le partage sur les réseaux sociaux est autorisé uwp_privilege_share_kinect_content Vérifiez si le partage du contrôleur Kinect est autorisé uwp_privilege_video_communications Vérifiez si la communication vidéo est autorisée uwp_privilege_communications Vérifiez si la communication Internet est autorisée uwp_privilege_user_created_content Vérifiez si l'accès au contenu créé par l'utilisateur est autorisé uwp_privilege_multiplayer_sessions Vérifiez si les sessions multijoueurs en ligne sont autorisées uwp_privilege_sessions Vérifiez si les sessions en ligne sont autorisées uwp_privilege_fitness_upload Vérifiez si le téléchargement des données de fitness est autorisé Une fois la fonction appelée, sur XBox One elle déclenchera un événement Asynchronous System lorsque le résultat du rappel aura été reçu, qui aura la carte DS spéciale async_load. Cette carte doit ensuite être analysée pour la clé suivante: " event_type " - doit contenir la valeur "check_privilege_result" si l'événement a été déclenché par cette fonction Si le type d'événement concerne cette fonction, il y aura également les touches supplémentaires suivantes lorsque la fonction est appelée sur XBox: " result " - Sera une ou plusieurs des constantes suivantes (valeurs combinées): Constant Description Évaluer uwp_privilege_result_no_issue Il n'y a aucun problème de privilège avec l'utilisateur 0 uwp_privilege_result_purchase_required L'utilisateur doit acheter quelque chose de supplémentaire, généralement un abonnement, pour accéder 1 uwp_privilege_result_aborted Le chèque a été annulé 2 uwp_privilege_result_banned L'utilisateur est banni 4 uwp_privilege_result_restricted L'accès de l'utilisateur est restreint, généralement par le biais du contrôle parental 8 " privilège " - sera l'une des constantes listées ci-dessus pour une utilisation dans la fonction, afin que vous puissiez vérifier quel privilège vous avez demandé en cas de vérifications multiples. Si le projet est exécuté sur une plate-forme UWP qui n'est pas XBox One, l'événement Async ne sera pas déclenché et à la place, la fonction retournera immédiatement wither -1, 0 ou 1 où: -1 signifie -1 l'utilisateur n'a pas le privilège 0 signifie que la fonction n'a pas pu interroger l'utilisateur 1 signifie que l'utilisateur a le privilège. Syntaxe:uwp_check_privilege(user_id, privilege, attempt_resolution); Argument Description user_id Le pointeur de l'ID utilisateur à vérifier. privilege La constante de privilège à vérifier (voir description ci-dessus). attempt_resolution Activer la tentative de résolution s'il est défini sur true, ou ignorez s'il est défini sur false. Retour:Integer Exemple:var user_one = xboxlive_get_user(0); if (xboxlive_user_is_signed_in(user_one))     {
         uwp_check_privilege(user_one, xboxlive_privilege_multiplayer_sessions, true);     }
   Les vérifications ci-dessus pour voir si l'utilisateur est connecté et si tel est le cas, il vérifie l'autorisation des sessions multijoueurs.  Retour: UWP et XBox Live Suivant:uwp_suspend © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

