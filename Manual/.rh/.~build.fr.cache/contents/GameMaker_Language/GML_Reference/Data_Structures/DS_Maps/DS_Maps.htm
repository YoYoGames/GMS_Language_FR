
  
  Cartes DS
  La structure de données DS map est exceptionnellement utile car elle vous permet de stocker des paires de clés et de valeurs. Par exemple, un personnage de votre jeu peut avoir une quantité d'objets différents(clés) et pour chaque objet individuel, il peut en avoir un certain nombre (valeurs).
    d'entre eux(valeurs), comme dans un RPG où vous pouvez avoir 10 potions de santé, 5 potions de mana et 100 or. Les cartes conservent ces paires toutes ensemble au même endroit et vous pouvez ajouter des paires à la carte et rechercher la valeur correspondant à certaines clés
    en utilisant quelques fonctions simples. Il y a cependant quelques choses que vous devez savoir sur les cartes avant de les utiliser ! Les cartes ne sont pas triées d'une manière (reconnaissable), ce qui signifie que pour trouver une certaine clé, vous devrez peut-être itérer à travers l'ensemble de la carte (ce qui est très lent).
    tout le système (ce qui est très lent). Il n'est pas non plus possible de conserver deux clés identiques, ni d'attribuer deux valeurs à une même clé.
  REMARQUE : comme toutes les ressources dynamiques, les structures de données occupent de la mémoire et doivent donc toujours être détruites lorsqu'elles ne sont plus nécessaires afin d'éviter les fuites de mémoire qui ralentiront et finiront par faire planter votre jeu.
  NOTE : si vous avez besoin de vérifier si une structure de données existe, vous pouvez utiliser la fonction ds_exists() fonction.
  En dehors des fonctions spécifiques énumérées ci-dessous, vous pouvez toutes utiliser une expression (appelée un accesseur) pour ajouter ou modifier le contenu de votre carte DS. Cet accesseur ressemble à un tableau 1D avec la syntaxe suivante :
  map_index[ ? key]
  Vous trouverez de plus amples informations, ainsi que des exemples, sur la page de présentation du GML sur les accesseurs.
  Les fonctions suivantes traitent des cartes DS.
   
  
    ds_map_exists
    ds_map_create
    ds_map_add
    ds_map_clear
    ds_map_copy
    ds_map_replace
    ds_map_delete
    ds_map_empty
    ds_map_size
    ds_map_find_first
    ds_map_find_last
    ds_map_find_next
    ds_map_find_previous
    ds_map_find_value
    ds_map_keys_to_array
    ds_map_values_to_array
    ds_map_set
    ds_map_read
    ds_map_write
    ds_map_destroy
  
   
  Quatre autres fonctions sont disponibles pour sauvegarder et charger une carte DS. Ces fonctions permettent d'obscurcir la carte et de la stocker dans un emplacement sécurisé sur la plate-forme cible en utilisant un format de fichier qui empêche le transfert du fichier final
    entre les appareils :
   
  
    ds_map_secure_save
    ds_map_secure_save_buffer
    ds_map_secure_load
    ds_map_secure_load_buffer
  
   
  L'une des utilisations des cartes DS est le travail avec JSON, et il y a donc quelques fonctions spéciales qui sont spécifiques à cela :
   
  
    ds_map_add_list
    ds_map_add_map
    ds_map_replace_list
    ds_map_replace_map
    ds_map_is_list
    ds_map_is_map
  
  NOTE : Bien que ces fonctions vous permettent d'ajouter des listes et des cartes à l'intérieur d'une carte, elles sont inutiles pour tout ce qui n'est pas JSON, et les cartes et listes imbriquées ne seront pas lues correctement si elles sont écrites sur le disque ou si on y accède d'une autre manière.
   
   
   
  
    
      
        Retour : Structures de données
        Suivant : Files d'attente prioritaires DS
      
    
    Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

