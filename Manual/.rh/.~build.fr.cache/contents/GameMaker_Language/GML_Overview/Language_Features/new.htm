new Le new L'opérateur peut être utilisé pour créer une structure avec une fonction qui est appelée avec les arguments donnés. La fonction peut ensuite remplir la structure avec les variables des arguments - un peu comme l'événement create d'une instance définira les variables initiales de l'instance - puis le new L'opérateur retournera la structure. Avant d'utiliser cet opérateur, il est important de noter que la fonction donnée doit être marquée comme constructor fonctionner sinon le new L'opérateur ne créera pas la structure (l'exemple de code ci-dessous le montre, et pour plus d'informations, veuillez consulter la page sur Structs ). REMARQUE: vous pouvez vérifier une structure pour savoir quelle fonction a été utilisée pour la créer à l'aide de la fonction d' runtime instanceof(). Cet opérateur a la syntaxe suivante:<variable> = new <function> (<argument>, <argument>, ...); Lorsque vous utilisez l'opérateur new avec une fonction, il renverra une référence de structure qui est stockée dans la variable donnée, vous permettant d'accéder à la structure et à toutes les variables qui y ont été créées par la fonction. L'exemple suivant montre une fonction qui a été définie pour être utilisée comme constructeur:function init_struct(_a, _b, _c) constructor     {
         a = _a;     b = _b;     c = _c;     }
   Cette fonction peut ensuite être utilisée avec le new opérateur pour créer une structure et la remplir avec les variables définies sur les valeurs des arguments utilisés dans la fonction, comme ceci:mystruct = new init_struct(10, 100, "Hello World"); Il est important de noter que l'appel de new sur toute fonction qui n'a pas été marquée comme constructeur provoquera une exception d' runtime.  Retour: Caractéristiques linguistiques Suivant:delete © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

