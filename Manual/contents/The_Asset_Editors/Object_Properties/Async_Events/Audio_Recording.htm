<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Enregistrement audio</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page détaillant l&#39;événement asynchrone d&#39;enregistrement audio." />
  <meta name="rh-index-keywords" content="Objets - Événement d&#39;enregistrement audio asynchrone" />
  <meta name="search-keywords" content="Enregistrement audio,ev_audio_recording" />
  <link rel="stylesheet" type="text/css" href="../../../assets/css/default.css" />
</head>
<body><!--<div class="body-scroll" style="top: 150px;">--><h1> Enregistrement audio</h1><p><img alt="Audio Recording Event" class="center" src="../../../assets/Images/Asset_Editors/Async_AudioRecording.png" /> Cet événement ne peut être déclenché que par le <a href="../../../GameMaker_Language/GML_Reference/Asset_Management/Audio/Audio_Buffers/audio_start_recording.htm"><span class="inline">audio_start_recording()</span></a> et renverra une <a href="../../../GameMaker_Language/GML_Reference/Data_Structures/DS_Maps/DS_Maps.htm">DS Map</a> stockée dans la variable <a href="../../../GameMaker_Language/GML_Overview/Variables/Builtin_Global_Variables/async_load.htm"><span class="inline">async_load</span></a>, contenant différentes paires clé / valeur en fonction du <a class="glossterm" data-glossterm="rappeler" href="Dialog.htm#">rappel</a> de la fonction qui a déclenché l&#39;événement.</p><p> Les clés suivantes seront disponibles dans le ds_map:</p><ul class="dropspotlist"><li class="dropspot"> &quot;<span class="inline">buffer_id</span> &quot;- l&#39;ID du <a href="../../../GameMaker_Language/GML_Reference/Buffers/Buffers.htm">tampon</a> temporaire que vous pouvez utiliser pour récupérer les données audio</li><li class="dropspot"> &quot;<span class="inline">channel_index</span> &quot;- l&#39;index du canal d&#39;enregistrement renvoyé par la fonction appelante d&#39;où proviennent ces données</li><li class="dropspot"> &quot;<span class="inline">data_len</span> &quot;- la longueur des données (en octets) que vous avez reçues</li></ul><p class="note"> <strong>REMARQUE</strong>: comme mentionné au début de cette page, la variable <span class="inline" style="font-size: 14px">async_load</span> n&#39;est valide que dans les événements asynchrones, car la carte DS qui pointe vers est créée au début de l&#39;événement, puis supprimée à nouveau à la fin. Cependant, notez que le tampon temporaire dans lequel tout l&#39;audio est stocké avec la carte sera également supprimé à la fin de l&#39;événement, vous devez donc le copier dans un tampon personnalisé si vous souhaitez le conserver pour une utilisation ultérieure.</p><p> Dans l&#39;exemple d&#39;utilisation ci-dessous, nous créerons un tampon personnalisé pour stocker notre audio enregistré, et définirons également notre jeu pour qu&#39;il enregistre à partir de la source d&#39;entrée 0:</p><p class="code">channel_index = audio_start_recording(0);<br/> audio_buffer = buffer_create(len, buffer_fast, 1);</p><p> Chaque étape du jeu maintenant que l&#39;enregistrement est détecté déclenchera un événement d&#39;enregistrement audio asynchrone où vous pouvez traiter l&#39;entrée enregistrée quelque chose comme ceci:</p><p class="code">var channel = async_load[? &quot;channel_index&quot;];<br/> if channel == channel_index<br/>    {<br/>    len = async_load[? &quot;data_len&quot;];<br/>    buffer_copy(async_load[? &quot;buffer_id&quot;], 0, len, audio_buffer, 0);<br/>    }</p><p> Ici, nous vérifions simplement la clé &quot;channel_index&quot; pour nous assurer qu&#39;elle correspond à la valeur renvoyée lorsque nous avons commencé l&#39;enregistrement, et si c&#39;est le cas, nous copions le contenu du tampon temporaire créé pour cet événement dans notre tampon personnalisé. Après cela, vous pouvez faire ce que vous voulez avec le tampon personnalisé - vous pouvez le lire en utilisant les fonctions audio du tampon dédié, vous pouvez le traiter et l&#39;envoyer sur le réseau, vous pouvez le sauvegarder sur le disque... Une fois que vous avez votre audio enregistré dans un tampon, vous pouvez faire pratiquement tout ce que vous voulez. </p><p></p><p></p><p></p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href="../Async_Events.htm">Événements asynchrones</a></div><div style="float:right"> Suivant: <a href="Cloud.htm">Cloud</a></div></div></div><h5> <span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
Asynchronous Audio Recording Event
ev_audio_recording
-->
  <!-- TAGS
ev_audio_recording
-->
</body>
</html>