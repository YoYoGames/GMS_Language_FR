<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Variables globales</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page expliquant les variables globales" />
  <meta name="rh-index-keywords" content="global,globalvar,Variables globales" />
  <meta name="search-keywords" content="global,variables globales,globalvar" />
</head>
<body><!--<div class="body-scroll" style="top: 150px;">--><h1> Variables globales</h1><p> Une description de base d&#39;une <strong>variable globale</strong> est celle qui, une fois déclarée, n&#39;appartient à aucune instance en particulier et qui est pourtant accessible à tous. Tout comme <a href="Local_Variables.htm">les variables locales</a>, les variables globales doivent être déclarées à l&#39;aide d&#39;un identifiant, mais contrairement à une variable locale, une variable globale reste en mémoire <em>jusqu&#39;à la fin de la partie</em>. Ainsi, vous pouvez créer une variable globale pour suivre (par exemple) le nombre de balles que possède le joueur, puis simplement mettre à jour cette variable à différents moments du jeu, former n&#39;importe quelle instance ou fonction et à tout moment. Essentiellement, une variable globale n&#39;appartient à aucune instance spécifique et peut être accédée, modifiée et utilisée par toutes les instances, et toutes les modifications apportées à la variable sont «globales», en ce sens que toutes les instances utilisant la variable seront affectées par la modification. Jetons un œil à un exemple:</p><p class="code">global.food = 5;</p><p> Nous déclarons le &quot;<span class="inline">food</span> &quot;variable lors de la première écriture&quot;<span class="inline">global</span> &quot;et puis un&quot;<span class="inline">.</span> &quot;pour indiquer à <span class="notranslate">GameMaker Studio 2</span> que cette variable a désormais une portée globale. Nous devrons désormais utiliser ce formulaire à chaque fois que nous serons amenés à accéder ou à modifier cette variable de quelque manière que ce soit. Nous avons donc créé une nouvelle variable appelée&quot;<span class="inline">food</span> &quot;et nous l&#39;avons déclaré global. Désormais, toute instance ou fonction peut utiliser et modifier cette variable de quelque manière que ce soit et toutes les autres instances le&quot; verront &quot;. Par exemple, nous pourrions avoir un objet alimentaire différent avec lequel le joueur entre en collision et dans l&#39;événement de collision que nous avons:</p><p class="code">global.food +=1;</p><p> Nous avons également un autre objet qui dessine cette valeur comme ceci:</p><p class="code">draw_text(32, 32, &quot;food = &quot; + string(global.food));</p><p> Avec les variables globales, nous pouvons changer les valeurs et voir ces changements reflétés dans toutes les instances des objets qui référencent cette variable. Comme pour <i>les</i> variables locales, vous devez faire attention à ne pas nommer vos variables globales de la même manière que les variables d&#39;instance car cela peut vous causer des problèmes et faire apparaître des bogues dans vos jeux en raison du chevauchement des variables, ce qui peut parfois être un problème difficile à déboguer. En général, vous devriez avoir un seul objet qui déclare toutes vos variables globales au tout début du jeu (par exemple, dans l&#39; <a href="../../../The_Asset_Editors/Object_Properties/Other_Events.htm">événement de début de salle</a> de la première instance d&#39;objet placée dans la première salle du jeu) ou une <a href="../Script_Functions.htm">fonction de script</a> unique qui les déclare tous ensemble, car cela vous donne un endroit pratique pour revenir en arrière et tout référencer à la fois si vous avez besoin de vérifier un nom de variable ou de modifier une valeur.</p><p> <span class="notranslate">GameMaker Studio 2</span> possède également une collection de variables globales &quot;intégrées&quot;, vous devez donc en être conscient car vous pouvez nommer l&#39;une de vos variables d&#39;instance de la même manière ou souhaiter avoir votre propre variable globale avec le même nom et vous demander pourquoi vous êtes obtenir des erreurs! Ils sont cependant faciles à repérer, car ils sont affichés dans une couleur différente dans l&#39;éditeur de code et apparaissent également dans la barre de saisie semi-automatique en bas. La majorité des variables globales intégrées sont très spécifiques et ne seront utilisées qu&#39;en de rares occasions - et sont répertoriées dans les sections appropriées du manuel - mais il y en a une importante qui est fréquemment utilisée et qui n&#39;est pas répertoriée ailleurs:</p><ul class="colour"><li><a href="Builtin_Global_Variables/async_load.htm"><tt>async_load</tt></a></li></ul><p> Il existe également trois <b>variables globales intégrées obsolètes</b> dont vous devez être conscient (ces variables sont uniquement conçues pour prendre en charge les projets hérités des versions précédentes de <span class="notranslate">GameMaker</span> et <b><i>ne doivent pas être utilisées dans de nouveaux projets</i></b> ):</p><ul class="colour"><li><a href="Builtin_Global_Variables/score.htm"><tt>score </tt></a></li><li><a href="Builtin_Global_Variables/health.htm"><tt>health </tt></a></li><li><a href="Builtin_Global_Variables/lives.htm"><tt>lives</tt></a></li></ul><p> Enfin, deux variables peuvent être utilisées pour les fonctions et méthodes de script:</p><ul class="colour"><li><a href="Builtin_Global_Variables/argument.htm">argument</a></li><li><a href="Builtin_Global_Variables/argument_count.htm">argument_count</a></li></ul><p> Le formulaire suivant peut également être utilisé pour déclarer des variables globales, mais il n&#39;est <i><b>inclus que pour la compatibilité ascendante</b></i>, et il n&#39;est pas recommandé d&#39;utiliser ce formulaire pour les nouveaux projets car les futures versions de <span class="notranslate">GameMaker</span> pourraient ne pas le prendre en charge.</p><p> La deuxième forme de création de variables globales consiste à les déclarer comme telles à l&#39;aide du <tt>globalvar</tt> déclaration, tout comme vous le feriez pour une variable locale en utilisant le <tt>var</tt> déclaration.</p><p class="note"> <b>IMPORTANT!</b> Le <tt>globalvar</tt> La déclaration est <b>obsolète</b> et n&#39;est prise en charge qu&#39;à des fins héritées. Vous devez <b>toujours</b> utiliser le <tt>global.</tt> identifiant pour marquer les variables globales.</p><p> Cette déclaration (obsolète) serait utilisée comme suit:</p><p class="code">globalvar food;<br/> food = 5;</p><p> Une fois déclarée de cette manière, la variable «nourriture» est désormais considérée comme globale et ne nécessite aucune <tt>global.</tt> préfixe - ce qui signifie également qu&#39;il est beaucoup plus difficile d&#39;identifier les variables globales dans votre code et qu&#39;il est également beaucoup plus facile d&#39;obtenir un chevauchement de variables lorsque vous utilisez le même nom de variable dans différents objets ou à partir d&#39;extensions que vous avez installées. Une fois déclarée de cette manière, la variable globale est accessible comme suit:</p><p class="code">food += 2;</p><p> ou:</p><p class="code">draw_text(32, 32, &quot;food = &quot; + string(food));</p><p> Comme vous pouvez le voir, rien ne montrant que la variable a une portée globale, vous vous préparez potentiellement à de nombreux problèmes subtils dans votre jeu, c&#39;est pourquoi cette déclaration doit être évitée.</p><p> Il existe quelques fonctions conçues pour vous aider à gérer les variables globales, que vous pouvez trouver sur la page suivante:</p><ul class="colour"><li> <a href="../../GML_Reference/Variable_Functions/Variable_Functions.htm">Fonctions variables</a> </li></ul><p></p><p></p><p></p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href="../Variables_And_Variable_Scope.htm">Portée des variables et des variables</a></div><div style="float:right"> Suivant: <a href="Constants.htm">Constantes</a></div></div></div><h5> <span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
global
globalvar
global variables
-->
  <!-- TAGS
global_variables
-->
</body>
</html>