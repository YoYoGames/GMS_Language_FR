<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Match Making</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Reference section for the XBox Live Match Making functions" />
  <meta name="rh-index-keywords" content="" />
  <meta name="search-keywords" content="Match Making,Xbox Live Match Making" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Match Making</h1>
  <p>Le matchmaking (multijoueur) pour Xbox Live et UWP nécessite un peu de configuration, en partie via un fichier de configuration qui définit les connexions réseau que vous allez utiliser, et en partie via l'installation de modèles de session et de trémies de matchmaking sur le Xbox
    Developer Portal. <span class="notranslate">GameMaker Studio 2</span> prend en charge cette fonctionnalité grâce à l'utilisation de la cible UWP et vous permet d'effectuer les opérations suivantes :</p>
  <ul class="colour">
    <li>Créer une session multi-joueurs</li>
    <li>Trouver (et/ou rejoindre) une session multijoueur</li>
    <li>Être informé lorsque les joueurs concernés rejoignent ou quittent une session, et recevoir les détails de leur connexion réseau.</li>
    <li>Être informé lorsque l'hôte de la session migre vers un autre utilisateur</li>
    <li>Obtenir une liste des utilisateurs de la session</li>
    <li>Quitter une session</li>
  </ul>
  <p>La connectivité du réseau Xbox Live repose sur ce que l'on appelle une <b>association de dispositifs sécurisés (Secure Device Association</b>), qui est en fait un contrat définissant exactement la manière dont le dispositif se connecte à d'autres dispositifs et le type de données qu'il est en mesure de communiquer en utilisant
    cette connexion. Ces associations sont configurées à l'aide d'un fichier que vous devez inclure dans votre projet. Vous trouverez un exemple de ce fichier <a href="http://help.yoyogames.com/attachments/token/aF6pHTwVLjGal1JOQbV3NpyZg/?name=test_xbox_network_manifest.man" target="_blank">ici</a>. Les principaux points importants du fichier sont le protocole et les numéros de port pour chaque description de socket, car ils doivent correspondre à ce que vous avez réellement configuré dans le code.</p>
  <p>Une fois que vous avez créé ce fichier manifeste de réseau, il doit être ajouté au projet en tant que <a href="../../../../Settings/Included_Files.htm">fichier inclus</a>. Ensuite, dans les Options de jeu UWP, dans l'onglet Général Xbox One, il doit être
    sélectionné dans la liste déroulante &quot;Included File for Network Config Manifest&quot;.</p>
  <p>Pour créer une session multi-joueurs, vous devez spécifier quel <b>modèle de session</b> sera utilisé. Ces modèles de session sont définis sur le XDP, mais un exemple est présenté ci-dessous :</p>
  <p class="code">Nom de la session : MatchSession<br> Version du contrat : 107<br> Modèle de session (texte JSON) :<br> {
    <br> &quot;constants&quot; : {<br> &quot;système&quot; : {<br> &quot;version&quot; : 1,<br> &quot;maxMembersCount&quot; : 12,<br> &quot;capabilities&quot; : {<br> },
    <br> &quot;memberInitialization&quot; : {<br> &quot;externalEvaluation&quot; : false,<br> &quot;membersNeedToStart&quot; : 1<br> }
    <br> },
    <br> &quot;custom&quot; : {}<br> }
    <br> }
  </p>
  <p>Vous trouverez une description des champs dans la rubrique &quot;Session Overview&quot; du fichier d'aide du XDK. Notez qu'actuellement, nous ne prenons pas en charge le réglage dynamique des paramètres de session à partir de GameMaker <span class="notranslate">Studio 2.</span></p>
  <p>En plus du modèle de session, un hopper de matchmaking doit également être configuré pour permettre à la session d'être trouvée (ceci est également fait sur le XDP). Les hoppers sont utilisés pour définir les règles qui sont utilisées lors de la mise en relation des joueurs. Comme pour les paramètres de session, nous ne
    paramètres de session, nous ne prenons pas actuellement en charge la définition dynamique des paramètres de trémie à partir de <span class="notranslate">GameMaker</span>: Studio. Consultez la section &quot;SmartMatch Matchmaking Configuration&quot; dans le fichier d'aide du XDK pour plus de détails.</p>
  <p>Les fonctions suivantes sont disponibles pour le matchmaking XboxLive (notez que vous devrez également utiliser les <a href="../../Networking/Networking.htm">fonctions réseau</a> de <span class="notranslate">GameMaker Studio 2</span> pour les connexions
    etc...) :</p>
  <p> </p>
  <ul class="colour">
    <li><a href="xboxlive_matchmaking_start.htm">xboxlive_matchmaking_start</a></li>
    <li><a href="xboxlive_matchmaking_stop.htm">xboxlive_matchmaking_stop</a></li>
    <li><a href="xboxlive_matchmaking_create.htm">xboxlive_matchmaking_create</a></li>
    <li><a href="xboxlive_matchmaking_find.htm">xboxlive_matchmaking_find</a></li>
    <li><a href="xboxlive_matchmaking_session_get_users.htm">xboxlive_matchmaking_session_get_users</a></li>
    <li><a href="xboxlive_matchmaking_join_session.htm">xboxlive_matchmaking_join_session</a></li>
    <li><a href="xboxlive_matchmaking_session_leave.htm">xboxlive_matchmaking_session_leave</a></li>
  </ul>
  <p> </p>
  <p><span class="notranslate">GameMaker Studio 2</span> propose un ensemble supplémentaire de fonctions de jumelage que vous pouvez utiliser pour inviter d'autres joueurs du réseau à rejoindre une session, ou pour accepter une invitation à rejoindre la session d'un autre joueur. Les fonctions disponibles
    sont les suivantes :</p>
  <p> </p>
  <ul class="colour">
    <li><a href="xboxlive_matchmaking_send_invites.htm">xboxlive_matchmaking_send_invites</a></li>
    <li><a href="xboxlive_matchmaking_set_joinable_session.htm">xboxlive_matchmaking_set_joinable_session</a></li>
    <li><a href="xboxlive_matchmaking_join_invite.htm">xboxlive_matchmaking_join_invite</a></li>
  </ul>
  <p> </p>
  <p>Lorsque le joueur accepte une invitation d'un autre joueur, l'une des deux choses suivantes se produit :</p>
  <ul class="colour">
    <li>Si votre jeu est en cours d'exécution, vous recevrez un <a href="../../../../The_Asset_Editors/Object_Properties/Async_Events/Social.htm">événement social asynchrone</a> avec la carte DS <a href="../../../GML_Overview/Variables/Builtin_Global_Variables/async_load.htm">async_load</a> contenant les clés/valeurs suivantes :
      <ul>
        <li>&quot;id&quot; - Ce paramètre sera défini sur MATCHMAKING_INVITATION.</li>
        <li>&quot;<strong>invitation_id&quot; -</strong> Il s'agit de la valeur d'identification unique de la session.</li>
        <li>&quot;<strong>invitation_host&quot; -</strong> Il s'agit de la valeur d'identification unique de la session pour l'hôte de la session.</li>
      </ul>
      Vous devez sauvegarder les valeurs d'ID et d'hôte, puis quitter toutes les sessions dont vous avez besoin, et appeler la fonction <tt>xboxlive_matchmaking_join_invite()</tt>, en passant comme arguments les valeurs d'ID et d'hôte d'invitation dans un événement Step.</li>
    <li>Si votre jeu n'est pas en cours d'exécution, il sera lancé par le système d'exploitation. Vous recevrez le même type d'<b>événement social asynchrone</b> avec les mêmes clés que celles énumérées ci-dessus. Enregistrez-les dans des variables, puis connectez-vous à
      Xbox Live matchmaking et enfin appelez <tt>xboxlive_matchmaking_join_invite()</tt>.</li>
  </ul>
  <p>Une fois que vous aurez appelé <tt>xboxlive_matchmaking_join_invite()</tt>, l'utilisateur tentera de rejoindre la session et vous recevrez des événements sociaux asynchrones comme si vous aviez appelé <tt>xboxlive_matchmaking_find()</tt> pour cette session.
    cette session.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Retour : <a href="../UWP_And_XBox_Live.htm">UWP et XBox Live</a></div>
        <div style="float:right">Suivant : <a href="../Users_And_Accounts/Users_And_Accounts.htm">Utilisateurs et comptes</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
XBox Live Match Making
-->
  <!-- TAGS
xboxlive_matchmaking_functions
-->
</body>
</html>