<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Match Making</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Section de référence pour les fonctions XBox Live Match Making" />
  <meta name="rh-index-keywords" content="" />
  <meta name="search-keywords" content="Match Making,Création de matchs Xbox Live" />
</head>
<body><!--<div class="body-scroll" style="top: 150px;">--><h1> Match Making</h1><p> Le matchmaking (multijoueur) pour Xbox Live et UWP nécessite un peu de configuration, en partie via un fichier de configuration qui définit les connexions réseau que vous allez utiliser, et en partie via la configuration de modèles de session et de trémies de matchmaking sur le portail des développeurs Xbox. <span class="notranslate">GameMaker Studio 2</span> prend en charge cela via l&#39;utilisation de la cible UWP et vous permet d&#39;effectuer les opérations suivantes:</p><ul class="colour"><li> Créer une session multijoueur</li><li> Trouvez (et / ou rejoignez) une session multijoueur</li><li> Soyez averti lorsque des joueurs concernés rejoignent ou quittent une session, et recevez leurs détails de connexion réseau</li><li> Être averti lorsque l&#39;hôte de session migre vers un autre utilisateur</li><li> Obtenir une liste des utilisateurs de la session</li><li> Quitter une session</li></ul><p> La connectivité réseau Xbox Live repose sur quelque chose appelé <b>Secure Device Association</b>, qui est essentiellement un contrat définissant exactement comment l&#39;appareil se connecte à d&#39;autres appareils et quel type de données il est capable de communiquer à l&#39;aide de cette connexion. Ceux-ci sont configurés à l&#39;aide d&#39;un fichier que vous devez inclure dans votre projet. Vous pouvez trouver un exemple de ce fichier <a href="http://help.yoyogames.com/attachments/token/aF6pHTwVLjGal1JOQbV3NpyZg/?name=test_xbox_network_manifest.man"
      target="_blank">ici</a>. Les principaux points importants du fichier sont le protocole et les numéros de port pour chaque description de socket, car ils doivent correspondre à ce que vous avez réellement configuré dans le code.</p><p> Une fois que vous avez créé ce fichier manifeste réseau, il doit être ajouté au projet en tant que <a href="../../../../Settings/Included_Files.htm">fichier inclus</a>. Ensuite, dans les Options de jeu UWP, dans l&#39;onglet Général Xbox One, il doit être sélectionné dans la zone de liste déroulante «Fichier inclus pour le manifeste de configuration réseau».</p><p> Pour créer une session multijoueur, vous devez spécifier le <b>modèle de session</b> qui sera utilisé. Ces modèles de session sont définis sur le XDP, mais un exemple est présenté ci-dessous:</p><p class="code">Session Name: MatchSession<br/> Contract Version: 107<br/> Session Template (JSON text):<br/>     {
    <br/>     &quot;constants&quot;: {<br/>         &quot;system&quot;: {<br/>             &quot;version&quot;: 1,<br/>             &quot;maxMembersCount&quot;: 12,<br/>             &quot;capabilities&quot;: {<br/>             },
    <br/>             &quot;memberInitialization&quot;: {<br/>                 &quot;externalEvaluation&quot;: false,<br/>                 &quot;membersNeededToStart&quot;: 1<br/>                 }
    <br/>             },
    <br/>         &quot;custom&quot;: {}<br/>         }
    <br/>     }
  </p><p> Une description des champs peut être trouvée dans &quot;Vue d&#39;ensemble de la session&quot; dans le fichier d&#39;aide XDK. Notez que nous ne prenons actuellement pas en charge la définition dynamique des paramètres de session à partir de <span class="notranslate">GameMaker Studio 2</span>.</p><p> Avec le modèle de session, un hopper de matchmaking doit également être mis en place pour permettre à la session d&#39;être trouvée (ceci est également fait sur le XDP). Les trémies sont utilisées pour définir les règles qui sont utilisées lors de la mise en correspondance des joueurs. Comme pour les paramètres de session, nous ne prenons actuellement pas en charge la définition dynamique des paramètres de trémie à partir de <span class="notranslate">GameMaker</span>: Studio. Consultez la section &quot;Configuration de la correspondance SmartMatch&quot; dans le fichier d&#39;aide XDK pour plus de détails.</p><p> Les fonctions suivantes sont disponibles pour le matchmaking XboxLive (notez que vous devrez également utiliser les <a href="../../Networking/Networking.htm">fonctions de mise en réseau</a> <span class="notranslate">GameMaker Studio 2</span> pour les connexions, etc.): </p><p></p><ul class="colour"><li><a href="xboxlive_matchmaking_start.htm">xboxlive_matchmaking_start</a></li><li><a href="xboxlive_matchmaking_stop.htm">xboxlive_matchmaking_stop</a></li><li><a href="xboxlive_matchmaking_create.htm">xboxlive_matchmaking_create</a></li><li><a href="xboxlive_matchmaking_find.htm">xboxlive_matchmaking_find</a></li><li><a href="xboxlive_matchmaking_session_get_users.htm">xboxlive_matchmaking_session_get_users</a></li><li><a href="xboxlive_matchmaking_join_session.htm">xboxlive_matchmaking_join_session</a></li><li><a href="xboxlive_matchmaking_session_leave.htm">xboxlive_matchmaking_session_leave</a></li></ul><p></p><p> <span class="notranslate">GameMaker Studio 2</span> fournit un ensemble supplémentaire de fonctions de mise en relation que vous pouvez utiliser pour inviter d&#39;autres joueurs du réseau à rejoindre une session, ou pour vous permettre d&#39;accepter une invitation à rejoindre la session de quelqu&#39;un d&#39;autre. Les fonctions disponibles sont: </p><p></p><ul class="colour"><li><a href="xboxlive_matchmaking_send_invites.htm">xboxlive_matchmaking_send_invites</a></li><li><a href="xboxlive_matchmaking_set_joinable_session.htm">xboxlive_matchmaking_set_joinable_session</a></li><li><a href="xboxlive_matchmaking_join_invite.htm">xboxlive_matchmaking_join_invite</a></li></ul><p></p><p> Lorsque le joueur accepte une invitation d&#39;un autre joueur, l&#39;une des deux choses suivantes se produit:</p><ul class="colour"><li> Si votre jeu est en cours d&#39;exécution, vous recevrez un <a href="../../../../The_Asset_Editors/Object_Properties/Async_Events/Social.htm">événement social asynchrone</a> avec<a href="../../../GML_Overview/Variables/Builtin_Global_Variables/async_load.htm">async_load</a> Carte DS contenant les clés / valeurs suivantes:<ul><li> &quot; <strong>id</strong> &quot; - Ce paramètre sera défini sur MATCHMAKING_INVITATION.</li><li> &quot; <strong>invitation_id</strong> &quot; - Il s&#39;agit de la valeur de l&#39;identifiant de session unique</li><li> &quot; <strong>invitation_host</strong> &quot; - Il s&#39;agit de la valeur d&#39;ID de session unique pour l&#39;hôte de session</li></ul> Vous devez enregistrer les valeurs d&#39;ID et d&#39;hôte, puis quitter toutes les sessions dont vous avez besoin et appeler la fonction <tt>xboxlive_matchmaking_join_invite()</tt>, en transmettant comme arguments l&#39;ID d&#39;invitation et les valeurs d&#39;hôte d&#39;invitation dans un événement Step.</li><li> Si votre jeu n&#39;est pas en cours d&#39;exécution, il sera lancé par le système d&#39;exploitation. Vous recevrez le même type d&#39; <b>événement social asynchrone</b> avec les mêmes clés définies que celles répertoriées ci-dessus. Enregistrez-les dans des variables, puis connectez-vous au matchmaking Xbox Live et enfin appelez <tt>xboxlive_matchmaking_join_invite()</tt>.</li></ul><p> Une fois que vous avez appelé <tt>xboxlive_matchmaking_join_invite()</tt> l&#39;utilisateur tentera de rejoindre la session et vous recevrez des événements sociaux asynchrones comme si vous aviez appelé <tt>xboxlive_matchmaking_find()</tt> sur cette session. </p><p></p><p></p><p></p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href="../UWP_And_XBox_Live.htm">UWP et XBox Live</a></div><div style="float:right"> Suivant: <a href="../Users_And_Accounts/Users_And_Accounts.htm">Utilisateurs et comptes</a></div></div></div><h5> <span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
XBox Live Match Making
-->
  <!-- TAGS
xboxlive_matchmaking_functions
-->
</body>
</html>