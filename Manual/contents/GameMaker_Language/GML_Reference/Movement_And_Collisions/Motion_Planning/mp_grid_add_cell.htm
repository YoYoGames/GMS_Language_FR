<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>mp_grid_add_cell</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Cette page décrit la fonction mp_grid_add_cell" />
  <meta name="rh-index-keywords" content="mp_grid_add_cell" />
  <meta name="search-keywords" content="mp_grid_add_cell" />
</head>
<body><!--<div class="body-scroll" style="top: 150px;">--><h1>mp_grid_add_cell</h1><p> Avec cette fonction, nous pouvons marquer des cellules individuelles dans la grille MP donnée comme étant &quot;interdites&quot;, ce qui signifie que les fonctions de recherche de chemin ne les croiseront jamais. Désormais, vous travaillez normalement en <i>coordonnées de pièce</i> x / y, et non en coordonnées de <i>cellule de grille MP.</i> Considérons donc l&#39;image suivante qui montre comment les deux peuvent être corrélés:</p><p><img alt="Add cell example" class="center" src="../../../../assets/Images/Scripting_Reference/GML/Reference/Movement_Collisions/mp_grid_add_cell_image.png" /> Comme vous pouvez le voir, mp_grid est numéroté comme une série de cellules (commençant à 0,0 dans le coin supérieur gauche), et lorsque vous placez cette grille sur la pièce, il y a une corrélation directe entre les coordonnées de la pièce (qui commencent également à 0, 0 en haut à gauche) et les cellules de la grille. Dans l&#39;image, vous pouvez voir qu&#39;une instance à la position 260,130 tombe sur la cellule de grille 8,4. Vous pouvez calculer mathématiquement la cellule exacte sur laquelle une position atterrit facilement en divisant le nombre par la résolution de la grille, puis en arrondissant vers le bas <i>ou</i>, si vous utilisez la puissance de 2 résolutions de grille (comme 8, 16, 32, etc.), vous peut utiliser les <a href="../../../../Additional_Information/Bitwise_Operators.htm">opérateurs au niveau</a> du bit. Il convient de noter que l&#39;opération au niveau du bit est plus rapide et l&#39;exemple ci-dessous montre les deux méthodes.</p><p></p><h4> Syntaxe:</h4><p class="code">mp_grid_add_cell(id, h, v);</p><table><tbody><tr><th> Argument</th><th> Description</th></tr><tr><td> <span class="notranslate">id</span></td><td> Index du mp_grid à utiliser</td></tr><tr><td> <span class="notranslate">h</span></td><td> Position horizontale de la cellule dans la grille</td></tr><tr><td> <span class="notranslate">v</span></td><td> Position verticale de la cellule dans la grille</td></tr></tbody></table><p></p><h4> Retour:</h4><p class="code">N/A</p><p></p><h4> Exemple:</h4><p class="code">with (obj_Wall)<br/>     {
    <br/>     mp_grid_add_cell(grid, floor(x / 32), floor(y / 32));<br/>     }
    <br/> with (obj_Door)<br/>     {
    <br/>     mp_grid_add_cell(grid, x&gt;&gt;5, y&gt;&gt;5);<br/>     }
  </p><p> Le code ci-dessus fera que tous les &quot;obj_Wall&quot; et tous les obj_Door ajoutent leurs positions de cellule équivalentes dans le mp_grid indexé dans la variable &quot;grid&quot;. Dans la première partie de l&#39;exemple, cela se fait en prenant les coordonnées x / y de l&#39;objet et en les divisant par la résolution de la grille (en utilisant <tt>floor</tt> pour conserver les valeurs sous forme d&#39;entiers), et dans la deuxième partie (puisque la résolution de la grille est une puissance de 2), cela se fait en décalant les coordonnées x, y de 5 places vers la droite. </p><p></p><p></p><p></p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href="Motion_Planning.htm">Planification de mouvement</a></div><div style="float:right"> Suivant:<a href="mp_grid_add_instances.htm">mp_grid_add_instances</a></div></div></div><h5> <span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
mp_grid_add_cell
-->
  <!-- TAGS
mp_grid_add_cell
-->
</body>
</html>