<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>push_local_notification</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page de référence pour push_local_notification" />
  <meta name="rh-index-keywords" content="" />
  <meta name="search-keywords" content="push_local_notification" />
</head>
<body><!--<div class="body-scroll" style="top: 150px;">--><h1>push_local_notification</h1><p> Cette fonction peut être utilisée pour définir une notification locale à afficher à une date donnée à une heure donnée. «Fire_time» est la date / heure à laquelle la notification doit être envoyée sur l&#39;appareil de l&#39;utilisateur (vous pouvez utiliser les <a href="../../Maths_And_Numbers/Date_And_Time/Date_And_Time.htm">fonctions de date et d&#39;heure de</a> <span class="notranslate">GameMaker Studio 2</span> pour l&#39;obtenir), et vous pouvez également donner à la notification un titre et un texte de message. en tant que chaîne de charge utile qui sera transmise à votre jeu lorsque les utilisateurs appuient sur la notification.</p><p class="note"> <b>REMARQUE</b>: l&#39;argument «titre» est ignoré sur <span class="notranslate">iOS</span> et le nom du jeu est affiché à la place.</p><p> Appuyez sur la notification pour démarrer le jeu sur l&#39;appareil et déclencher un événement de <a href="../../../../The_Asset_Editors/Object_Properties/Async_Events/Push_Notifications.htm">notification push asynchrone où le </a><a href="../../../GML_Overview/Variables/Builtin_Global_Variables/async_load.htm"><tt>async_load</tt></a> La carte DS peut ensuite être analysée pour vérifier la chaîne de charge utile et effectuer toute action requise.</p><p class="note"> <b>REMARQUE</b>: cette fonctionnalité est limitée aux modules cibles <b><span class="notranslate">iOS</span></b> et <b><span class="notranslate">Android</span></b></p><p></p><h4> Syntaxe:</h4><p class="code">push_local_notification(fire_time, title, message, data);</p><table><tbody><tr><th> Argument</th><th> Description</th></tr><tr><td> <span class="notranslate">fire_time</span></td><td> La date / heure de déclenchement de la notification</td></tr><tr><td> <span class="notranslate">title</span></td><td> Le titre de la notification (une chaîne)</td></tr><tr><td> <span class="notranslate">message</span></td><td> Le texte du message de notification (une chaîne)</td></tr><tr><td> <span class="notranslate">data</span></td><td> Le paquet de données à envoyer à votre jeu (une chaîne)</td></tr></tbody></table><p></p><h4> Retour:</h4><p class="code">N/A</p><p></p><h4> Exemple étendu</h4><p> Dans cet exemple, nous enverrons une notification push locale en utilisant le code suivant:</p><p class="code">var fireTime = date_inc_day(date_current_datetime(), 1);<br/> var data = &quot;daily_reward&quot;;<br/> push_local_notification(fireTime, &quot;Ahoy!&quot;, &quot;Catch The Haggis Has A Present&quot;, data);</p><p> Cela définira une minuterie pour &quot;pousser&quot; une notification à l&#39;appareil lorsqu&#39;un jour s&#39;est écoulé. À la fin de la journée, si votre jeu est en arrière-plan ou n&#39;est pas en cours d&#39;exécution, une notification sera affichée à l&#39;utilisateur avec le titre et le message donnés (sur <span class="notranslate">iOS</span>, le nom du jeu est affiché et le titre est ignoré), puis un événement de notification push asynchrone sera appelé. Notez que si le jeu est au premier plan au moment de la notification, il <i>ne</i> sera pas affiché, mais l&#39;événement asynchrone <b>se déclenchera toujours</b>. Dans l&#39;événement lui-même, vous géreriez le rappel quelque chose comme ceci: Async Event de la manière suivante: </p><p class="code">var type = ds_map_find_value(async_load, &quot;type&quot;);<br/> var status = ds_map_find_value(async_load, &quot;status&quot;);<br/> if status == 0<br/>     {
    <br/>     //error of some kind<br/>     var error = ds_map_find_value(async_load, &quot;error&quot;);<br/>     show_debug_message(&quot;error=&quot; + string(error));<br/>     }
    <br/> else
    <br/>     {
    <br/>     if type == &quot;register&quot;<br/>         {
    <br/>         global.reg_id = ds_map_find_value(async_load, &quot;reg_id&quot;);<br/>         }
    <br/>     else
    <br/>         {
    <br/>         var data = ds_map_find_value(async_load, &quot;data&quot;);<br/>             if data == &quot;daily_reward&quot;<br/>             {
    <br/>             global.Gold += 1000;<br/>             }
    <br/>         }
    <br/>     }
  </p><p></p><p></p><p></p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href="Push_Notifications.htm">Notifications push</a></div><div style="float:right"> Suivant:<a href="push_get_first_local_notification.htm">push_get_first_local_notification</a></div></div></div><h5> <span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
push_local_notification
-->
  <!-- TAGS
push_local_notification
-->
</body>
</html>