<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>sprite_replace</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page expliquant la fonction sprite_replace" />
  <meta name="rh-index-keywords" content="sprite_replace" />
  <meta name="search-keywords" content="sprite_replace" />
</head>
<body><!--<div class="body-scroll" style="top: 150px;">--><h1>sprite_replace</h1><p> Cette fonction fonctionne presque exactement de la même manière que <a href="sprite_add.htm"><tt>sprite_add()</tt></a>, mais au lieu de renvoyer l&#39;index du sprite que vous importez, il écrase un index de sprite précédemment créé. Lorsque vous utilisez cette fonction, vous devez utiliser un index de sprite qui a été créé et stocké dans une variable en utilisant d&#39;autres fonctions telles que <a href="sprite_add.htm"><tt>sprite_add()</tt></a> ou <a href="sprite_create_from_surface.htm"><tt>sprite_create_from_surface()</tt></a>, ou même <a href="sprite_duplicate.htm"><tt>sprite_duplicate()</tt></a>, plutôt qu&#39;un élément de sprite d&#39;arbre de ressources. Vous <i>pouvez</i> remplacer un sprite des ressources du jeu à l&#39;aide de cette fonction, mais cela signifie que vous perdrez l&#39;ID de référence du sprite que vous remplacez, que vous appeliez ou non <tt>game_restart()</tt> ou pas, et n&#39;est donc pas recommandé. Indépendamment du sprite remplacé, cette fonction <b>créera une nouvelle page de texture pour le sprite</b> et donc des précautions doivent être prises lors de son utilisation car cela peut nuire aux performances en augmentant le nombre de permutations de texture requises pour le rendu.</p><p> Le fichier image à charger doit <b>toujours</b> être au format <tt>*.png</tt> format et toutes les images qui doivent être transformées en sprites animés doivent avoir un format «bande» (voir l&#39;image ci-dessous). Elles seront divisées en le nombre de sous-images spécifié en suivant la règle <b>sprite width = strip width / sub images</b>.</p><p><img alt="Example Sprite Strip" class="center" src="../../../../../assets/Images/Scripting_Reference/GML/Reference/Sprites/spr_strip.png" /></p><p> Comme vous pouvez le voir dans l&#39;image ci-dessus, le sprite a été placé sur un fond violet foncé, et cela peut être supprimé en définissant l&#39;argument &quot;removeback&quot; sur <tt>true</tt>. Cela fonctionne en vérifiant le <i>pixel en bas à gauche</i> de l&#39;image-objet pour la couleur à cet endroit, puis en l&#39;utilisant comme couleur à supprimer. Par exemple, dans l&#39;image ci-dessus, si la couleur du pixel en bas à gauche était verte, toutes les parties vertes du sprite auraient été supprimées et le reste de l&#39;arrière-plan violet ignoré.</p><p> Si vous choisissez l&#39;option &quot;removeback&quot;, vous pouvez également souhaiter que <span class="notranslate">GameMaker Studio 2</span> les bords de l&#39;image-objet en définissant l&#39;argument &quot;smooth&quot; sur <tt>true</tt>. Tout cela ne fait que créer une bordure semi-transparente autour des bords du sprite après que son arrière-plan ait été supprimé.</p><p> Enfin, vous pouvez également spécifier le x et l&#39; <i>origine</i> y pour l&#39;image - objet. C&#39;est le point où le sprite est &quot;fixé&quot; sur l&#39;instance qui l&#39;utilise, et est toujours calculé par rapport au coin supérieur gauche 0,0 d&#39;une sous-image de sprite. Ainsi, par exemple, un sprite de 32 x 32 pixels avec ces valeurs définies sur (16,16) aura son origine au centre.</p><p> Par défaut, tous les nouveaux sprites ont leurs cadres de délimitation calculés automatiquement (la bbox exacte dépendra de la taille et de la transparence du sprite), mais vous souhaiterez peut-être personnaliser cela, auquel cas vous devez également utiliser la fonction <a href="sprite_collision_mask.htm"><tt>sprite_collision_mask()</tt></a>.</p><p class="note"> <b>REMARQUE</b>: selon la plate-forme cible choisie, vous êtes limité quant à l&#39;endroit où vous pouvez enregistrer et charger des fichiers. Voir <a href="../../../../../Additional_Information/The_File_System.htm">Gestion des fichiers</a> pour plus d&#39;informations.</p><p class="note"> <b>REMARQUE</b>: vous devez savoir que si vous utilisez cette fonction dans votre jeu cible HTML5 pour charger des ressources à partir d&#39;un serveur externe, alors, en raison de la protection XSS dans les navigateurs, les tentatives de chargement de ressources à partir de plusieurs domaines peuvent être bloquées et sembler revenir résultats vides.</p><p></p><h4> Syntaxe:</h4><p class="code">sprite_replace(ind, fname, imgnumb, removeback, smooth, xorig, yorig);</p><table><tbody><tr><th> Argument</th><th> Description</th></tr><tr><td> <span class="notranslate">ind</span></td><td> L&#39;index du sprite à remplacer définitivement.</td></tr><tr><td> <span class="notranslate">fname</span></td><td> Le nom de fichier de l&#39;image pour créer le nouveau sprite.</td></tr><tr><td> <span class="notranslate">imgnumb</span></td><td> Le nombre d&#39;images dans lesquelles le sprite sera découpé horizontalement. 1 = une seule image /<tt>*.gif</tt>.</td></tr><tr><td> <span class="notranslate">removeback</span></td><td> Indique s&#39;il faut rendre transparents tous les pixels avec la couleur d&#39;arrière-plan (pixel en bas à gauche).</td></tr><tr><td> <span class="notranslate">smooth</span></td><td> Indique s&#39;il faut lisser les bords.</td></tr><tr><td> <span class="notranslate">xorig</span></td><td> Coordonnée x de l&#39;origine, par rapport au coin supérieur gauche de l&#39;image-objet.</td></tr><tr><td> <span class="notranslate">yorig</span></td><td> Coordonnée y de l&#39;origine, par rapport au coin supérieur gauche de l&#39;image-objet.</td></tr></tbody></table><p></p><h4> Retour</h4><p class="code">N/A</p><p></p><h4> Exemple:</h4><p class="code">sprite_replace(spr_banner, &quot;gravemaker.png&quot;, 1, false, false, 0, 0);</p><p> Le code ci-dessus remplacera l&#39;élément d&#39;image indexé dans &quot;spr_banner&quot; par un autre chargé depuis une source externe. </p><p></p><p></p><p></p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href="Sprite_Manipulation.htm">Manipulation des sprites</a></div><div style="float:right"> Suivant:<a href="sprite_duplicate.htm">sprite_duplicate</a></div></div></div><h5> <span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
sprite_replace
-->
  <!-- TAGS
sprite_replace
-->
</body>
</html>