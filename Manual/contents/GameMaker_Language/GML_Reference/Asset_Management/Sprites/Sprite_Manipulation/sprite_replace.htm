<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>sprite_replace</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page explaining the function sprite_replace" />
  <meta name="rh-index-keywords" content="sprite_replace" />
  <meta name="search-keywords" content="sprite_replace" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>sprite_replace</h1>
  <p>Cette fonction fonctionne presque de la même manière que la fonction <a href="sprite_add.htm"><tt>sprite_add()</tt></a>mais au lieu de renvoyer l'index du sprite que vous importez, elle écrase un index de sprite précédemment créé. Lorsque vous utilisez
    cette fonction, vous devez utiliser un index de sprite qui a été créé et stocké dans une variable à l'aide d'autres fonctions telles que <a href="sprite_add.htm"><tt>sprite_add()</tt></a> ou  <a href="sprite_create_from_surface.htm"><tt>sprite_create_from_surface()</tt></a>,
    ou encore <a href="sprite_duplicate.htm"><tt>sprite_duplicate()</tt></a>plutôt qu'un actif de sprite de l'arbre de ressources. Vous <i>pouvez</i> remplacer un sprite à partir des ressources du jeu en utilisant cette fonction, mais cela signifie que
    vous perdrez l'ID de référence du sprite que vous remplacez, que vous appeliez <tt>game_restart()</tt> ou non, et ce n'est donc pas recommandé. Indépendamment du sprite remplacé, cette fonction <b>créera une nouvelle page de texture pour le sprite</b>.
    Il convient donc d'être prudent lors de son utilisation, car elle peut nuire aux performances en augmentant le nombre de changements de texture nécessaires pour le rendu.</p>
  <p>Le fichier image à charger doit <b>toujours</b> être au format <tt>*.png</tt> et toutes les images qui doivent être transformées en sprites animés doivent avoir un format &quot;bande&quot; (voir l'image ci-dessous).
    Elles seront divisées en un nombre de sous-images spécifié selon la règle suivante : <b>largeur du sprite = largeur de la bande / sous-images</b>.</p>
  <p><img alt="Example Sprite Strip" class="center" src="../../../../../assets/Images/Scripting_Reference/GML/Reference/Sprites/spr_strip.png" /></p>
  <p>Comme vous pouvez le voir dans l'image ci-dessus, le sprite a été placé sur un fond violet foncé, et cela peut être supprimé en définissant l'argument &quot;removeback&quot; à true. Cela fonctionne en vérifiant le pixel <i>inférieur gauche</i> 
    du sprite pour connaître la couleur qui s'y trouve et l'utiliser comme couleur à supprimer. Par exemple, dans l'image ci-dessus, si la couleur du pixel inférieur gauche était le vert, toutes les parties vertes du sprite auraient été supprimées et le reste du fond violet aurait été ignoré.
    ignoré le reste de l'arrière-plan violet.</p>
  <p>Si vous choisissez l'option &quot;removeback&quot;, vous pouvez également souhaiter que GameMaker <span class="notranslate">Studio 2 lisse les</span> bords du sprite en définissant l'argument &quot;smooth&quot; sur true. Tout ce que cela fait est de créer
    une bordure semi-transparente autour des bords du sprite après la suppression de son arrière-plan.</p>
  <p>Enfin, vous pouvez également spécifier l'<i>origine</i> x et y du sprite. Il s'agit du point où le sprite est &quot;fixé&quot; sur l'instance qui l'utilise, et il est toujours calculé comme étant relatif au coin supérieur gauche 0,0
    d'une sous-image de sprite. Ainsi, par exemple, un sprite de 32 x 32 pixels dont les valeurs sont définies sur (16,16) aura son origine au centre.</p>
  <p>Par défaut, les boîtes de délimitation de tous les nouveaux sprites sont calculées automatiquement (la boîte de délimitation exacte dépend de la taille et de la transparence du sprite), mais vous pouvez souhaiter personnaliser cette fonction, auquel cas vous devez également utiliser la fonction     <a href="sprite_collision_mask.htm"><tt>sprite_collision_mask()</tt></a>.</p>
  <p class="note"><b>REMARQUE</b>: selon la plate-forme cible choisie, vous êtes limité quant à l'endroit où vous pouvez enregistrer et charger des fichiers. Voir <a href="../../../../../Additional_Information/The_File_System.htm">Manipulation des fichiers</a> pour plus d'informations.</p>
  <p class="note"><b>REMARQUE</b>: vous devez savoir que si vous utilisez cette fonction dans votre jeu cible HTML5 pour charger des ressources à partir d'un serveur externe, alors, en raison de la protection XSS des navigateurs, les tentatives de chargement de ressources à partir d'autres domaines peuvent être bloquées et renvoyer des résultats vides.
    renvoyer des résultats vides.</p>
  <p> </p>
  <h4>Syntaxe :</h4>
  <p class="code">sprite_replace(ind, fname, imgnumb, removeback, smooth, xorig, yorig) ;</p>
  <table>
    <tbody>
      <tr>
        <th>Arguments</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>ind</td>
        <td>L'index du sprite à remplacer définitivement.</td>
      </tr>
      <tr>
        <td>fname</td>
        <td>Le nom de fichier de l'image pour créer le nouveau sprite.</td>
      </tr>
      <tr>
        <td>imgnumb</td>
        <td>Le nombre d'images dans lesquelles le sprite sera découpé horizontalement. 1 = une seule image / <tt>*.gif</tt>.</td>
      </tr>
      <tr>
        <td>retirer</td>
        <td>Indique s'il faut rendre transparents tous les pixels ayant la couleur de fond (pixel inférieur gauche).</td>
      </tr>
      <tr>
        <td>lisse</td>
        <td>Indique s'il faut lisser les bords.</td>
      </tr>
      <tr>
        <td>xorig</td>
        <td>La coordonnée x de l'origine, par rapport au coin supérieur gauche du sprite.</td>
      </tr>
      <tr>
        <td>yorig</td>
        <td>La coordonnée y de l'origine, par rapport au coin supérieur gauche du sprite.</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Renvoie à</h4>
  <p class="code">N/A</p>
  <p> </p>
  <h4>Exemple :</h4>
  <p class="code">sprite_replace(spr_banner, &quot;gravemaker.png&quot;, 1, false, false, 0, 0) ;</p>
  <p>Le code ci-dessus remplacera l'image indexée dans &quot;spr_banner&quot; par une autre image chargée depuis une source externe.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Retour : <a href="Sprite_Manipulation.htm">Manipulation des sprites</a></div>
        <div style="float:right">Suivant : <a href="sprite_duplicate.htm">sprite_duplicate</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
sprite_replace
-->
  <!-- TAGS
sprite_replace
-->
</body>
</html>