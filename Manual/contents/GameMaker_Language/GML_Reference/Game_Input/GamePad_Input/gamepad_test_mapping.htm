<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>gamepad_test_mapping</title>
  <meta name="generator" content="Adobe RoboHelp 2019"/>
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css"/>
  <meta name="rh-authors" content="Mark Alexander"/>
  <meta name="topic-comment" content="Page de référence pour gamepad_test_mapping"/>
  <meta name="rh-index-keywords" content="gamepad_test_mapping"/>
  <meta name="search-keywords" content="gamepad_test_mapping"/>
</head>

<body><!--<div class="body-scroll" style="top: 150px;">--><h1>gamepad_test_mapping</h1><p> Cette fonction peut être utilisée pour définir le mappage de la manette de jeu sur les cibles qui le permettent. Vous fournissez l&#39;index «slot» pour la manette de jeu à définir, puis la chaîne de carte, qui aurait dû être créée en utilisant le format SDL avec les champs suivants:</p><p class="code">&lt;guid&gt;,&lt;description&gt;,platform:&lt;platform-name&gt;,&lt;bindings&gt;</p><p> Les détails à inclure dans chacun de ces champs sont:</p><ul class="colour"><li><tt>guid</tt> - une chaîne de chiffres et de lettres qui identifie de manière unique un type d&#39;appareil (cela peut être récupéré à l&#39;aide du <a href="gamepad_get_guid.htm"><tt>gamepad_get_guid()</tt></a> fonction)</li><li><tt>description</tt> - une description Ascii de l&#39;appareil (elle peut être récupérée à l&#39;aide du <a href="gamepad_get_description.htm"><tt>gamepad_get_description()</tt></a> fonction)</li><li><tt>platform-name</tt> - sera soit &quot;platform: android&quot;, &quot;platform: windows&quot;, &quot;linux&quot; ou &quot;mac&quot; (notez que <b>cela sera ajouté automatiquement à la chaîne lorsque vous appelez cette fonction</b>, et que vous n&#39;avez donc pas besoin de le fournir lors de la construction de vos propres chaînes de mappage)</li><li><tt>bindings</tt> - un ensemble d&#39;entrées séparées par un &#39;,&#39; pour lier l&#39;entrée réelle à des constantes <span class="notranslate">GML</span></li></ul><p> La liste des entrées séparées par des virgules suit un format spécifique pour chaque entrée:</p><p class="code">&lt;abstract-gp-name&gt;:&lt;value-binding&gt;</p><p> Ici <tt>&lt;value-binding&gt;</tt> (c&#39;est-à-dire: l&#39;entrée directe de la manette de jeu) peut être l&#39;un des éléments suivants:</p><ul class="colour"><li><tt>a&lt;N&gt;</tt> - Ceci représente un axe de la manette de jeu, où le &lt;N&gt; est l&#39;un des axes de 0 à <a href="gamepad_axis_count.htm"><tt>gamepad_axis_count()</tt></a> -1 </li><li><tt>b&lt;N&gt;</tt> - Ceci représente un bouton de la manette de jeu, où le &lt;N&gt; est l&#39;un des boutons de 0 à <a href="gamepad_button_count.htm"><tt>gamepad_button_count()</tt></a> -1 </li><li><tt>h&lt;N&gt;.&lt;mask&gt;</tt> - Ceci représente un chapeau de la manette de jeu, où le &lt;N&gt; représente un chapeau de 0 à <a href="gamepad_hat_count.htm"><tt>gamepad_hat_count()</tt></a> -1 et le <tt>&lt;mask&gt;</tt> sera soit 1, 2, 4 ou 8.</li></ul><p> Chaque valeur d&#39;entrée doit être liée à un nom SDL, exprimé sous la forme <tt>&lt;&gt;abstract-gp-name&gt;</tt>, qui à son tour est liée à une constante <span class="notranslate">GML</span> Le tableau ci-dessous montre l&#39;équivalence entre le nom SDL et la constante <span class="notranslate">GameMaker Studio 2</span></p><p></p><table><tbody><tr><th> Nom SDL</th><th> Nom <span class="notranslate">GML </span></th></tr><tr><td><tt>a</tt></td><td> gp_face1 </td></tr><tr><td><tt>b</tt></td><td> gp_face2 </td></tr><tr><td><tt>x</tt></td><td> gp_face3 </td></tr><tr><td><tt>y</tt></td><td> gp_face4 </td></tr><tr><td><tt>leftshoulder</tt></td><td> gp_shoulderl </td></tr><tr><td><tt>lefttrigger</tt></td><td> gp_shoulderlb </td></tr><tr><td><tt>rightshoulder</tt></td><td> gp_shoulderr </td></tr><tr><td><tt>righttrigger</tt></td><td> gp_shoulderrb </td></tr><tr><td><tt>guide</tt></td><td> gp_select </td></tr><tr><td><tt>start</tt></td><td> gp_start </td></tr><tr><td><tt>leftstick</tt></td><td> gp_stickl </td></tr><tr><td><tt>rightstick</tt></td><td> gp_stickr </td></tr><tr><td><tt>dpup</tt></td><td> gp_padu </td></tr><tr><td><tt>dpdown</tt></td><td> gp_padl </td></tr><tr><td><tt>dpleft</tt></td><td> gp_padr </td></tr><tr><td><tt>dpright</tt></td><td> gp_padd </td></tr><tr><td><tt>leftx</tt></td><td> gp_axislh </td></tr><tr><td><tt>lefty</tt></td><td> gp_axislv </td></tr><tr><td><tt>rightx</tt></td><td> gp_axisrh </td></tr><tr><td><tt>righty</tt></td><td> gp_axisrv</td></tr></tbody></table><p><br/> Lorsque vous avez construit votre chaîne de mappage, cela devrait ressembler à ceci:</p><p class="code">&quot;050000005e040000fd020000ffff3f00,Xbox Wireless Controller,a:b0,b:b1,start:b4,dpdown:h0.4,dpleft:h0.8,dpright:h0.2,dpup:h0.1,guide:b6,leftshoulder:b9,leftstick:b7,lefttrigger:a4,leftx:a0,lefty:a1,rightshoulder:b10,rightstick:b8,righttrigger:a5,rightx:a2,righty:a3,x:b2,y:b3,platform:android&quot;</p><p></p><h4> Syntaxe:</h4><p class="code">gamepad_test_mapping(index, mapping_string);</p><table><tbody><tr><th> Argument</th><th> Description</th></tr><tr><td> <span class="notranslate">index</span></td><td> Quel «slot» d&#39;index de manette de jeu définir.</td></tr><tr><td> <span class="notranslate">colour</span></td><td> La chaîne de mappage à utiliser (voir la description pour plus d&#39;informations).</td></tr></tbody></table><p></p><h4> Retour:</h4><p class="code">N/A</p><p></p><h4> Exemple:</h4><p class="code">var mapping = gamepad_get_guid(global.padIndex) + &quot;,&quot; + gamepad_get_description(global.padIndex);<br/> var len = array_length(global.PadInstances);<br/> for( i = 0; i &lt; len; i += 2)<br/>     {
    <br/>     var left = global.PadInstances[i];<br/>     var right = global.PadInstances[i+1];<br/>     mapping += &quot;,&quot; + left.sdlLabel + &quot;:&quot; + right.binding;<br/>     }
    <br/> gamepad_test_mapping(global.padIndex, mapping);</p><p> Le code ci-dessus parcourra un certain nombre d&#39;instances et utilisera les valeurs des différentes variables qu&#39;elles contiennent pour créer une chaîne de mappage, qui est ensuite définie pour être utilisée sur la manette de jeu dans l&#39;index d&#39;emplacement donné. </p><p></p><p></p><p></p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href="Gamepad_Input.htm">Entrée de la manette de jeu</a></div><div style="float:right"> Suivant:<a href="gamepad_remove_mapping.htm">gamepad_remove_mapping</a></div></div></div><h5> <span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
gamepad_test_mapping
-->
  <!-- TAGS
gamepad_test_mapping
-->

</body></html>