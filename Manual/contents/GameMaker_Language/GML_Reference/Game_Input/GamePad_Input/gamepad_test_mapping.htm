<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>gamepad_test_mapping</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Reference page for gamepad_test_mapping" />
  <meta name="rh-index-keywords" content="gamepad_test_mapping" />
  <meta name="search-keywords" content="gamepad_test_mapping" />
</head>

<body>



  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>gamepad_test_mapping</h1>
  <p>Cette fonction peut être utilisée pour définir le mapping du gamepad sur les cibles qui le permettent. Vous fournissez l'index &quot;slot&quot; pour le gamepad à définir, puis la chaîne map, qui doit avoir été créée en utilisant le format SDL avec les champs suivants :</p>
  <p class="code">&lt;guid&gt;,&lt;description&gt;,&lt;plateforme:&lt;nom-de-la-plateforme&gt;,&lt;bindings&gt;</p>
  <p>Les détails qui doivent être inclus dans chacun de ces champs sont les suivants :</p>
  <ul class="colour">
    <li><tt>guid</tt> - une chaîne de chiffres et de lettres qui identifie de manière unique un type de périphérique (elle peut être récupérée à l'aide de la fonction <a href="gamepad_get_guid.htm"><tt>gamepad_get_guid()</tt></a> fonction)</li>
    <li><tt>description</tt> - une description Ascii du périphérique (elle peut être récupérée à l'aide de la fonction <a href="gamepad_get_description.htm"><tt>gamepad_get_description()</tt></a> fonction)</li>
    <li><tt>platform-name</tt> - sera soit &quot;platform:android&quot;, &quot;platform:windows&quot;, &quot;linux&quot;, ou &quot;mac&quot; (notez que cela sera ajouté automatiquement à la <b>chaîne lorsque vous appelez cette fonction, et donc vous</b> n'avez pas besoin de le fournir lorsque vous construisez vos propres chaînes de mappage).
      n'avez pas besoin de le fournir lorsque vous construisez vos propres chaînes de mappage)</li>
    <li><tt>bindings</tt> - un ensemble d'entrées séparées par un "," pour lier l'entrée réelle à des <span class="notranslate">constantes</span> GML spécifiques.</li>
  </ul>
  <p>La liste des entrées séparées par des virgules suit un format spécifique pour chaque entrée :</p>
  <p class="code">&lt;nom-gp-abstrait&gt;:&lt;liaison-valeur&gt;.</p>
  <p>Ici, <tt>&lt;value-binding&gt; (c'est-à-dire</tt> l'entrée directe du gamepad) peut être l'un des éléments suivants :</p>
  <ul class="colour">
    <li><tt>a&lt;N&gt; -</tt> Ceci représente un axe du gamepad, où le &lt;N&gt; est un des axes de 0 à <a href="gamepad_axis_count.htm"><tt>gamepad_axis_count()</tt></a> -1</li>
    <li><tt>b&lt;N&gt; -</tt> Ceci représente un bouton du gamepad, où le &lt;N&gt; est un des boutons de 0 à <a href="gamepad_button_count.htm"><tt>gamepad_button_count()</tt></a> -1</li>
    <li><tt>h&lt;N&gt;.&lt;mask&gt; - Ceci</tt> représente un chapeau du gamepad, où le &lt;N&gt; représente un chapeau de 0 à <a href="gamepad_hat_count.htm"><tt>gamepad_hat_count()</tt></a> -1, et le <tt>&lt;mask&gt;</tt> sera soit 1, 2, 4, ou 8.</li>
  </ul>
  <p>Chaque valeur d'entrée doit être liée à un nom SDL, exprimé sous la forme <tt>&lt;&gt;abstract-gp-name&gt; , qui</tt> est à son tour lié à une <span class="notranslate">constante</span> GML. Le tableau ci-dessous montre l'équivalence entre le nom SDL et la constante <span class="notranslate">GameMaker Studio 2</span>:</p>
  <p> </p>
  <table>
    <tbody>
      <tr>
        <th>Nom du SDL</th>
        <th>Nom<span class="notranslate">GML</span> </th>
      </tr>
      <tr>
        <td><tt>a</tt></td>
        <td>gp_face1</td>
      </tr>
      <tr>
        <td><tt>b</tt></td>
        <td>gp_face2</td>
      </tr>
      <tr>
        <td><tt>x</tt></td>
        <td>gp_face3</td>
      </tr>
      <tr>
        <td><tt>y</tt></td>
        <td>gp_face4</td>
      </tr>
      <tr>
        <td><tt>épaule gauche</tt></td>
        <td>gp_épaulière</td>
      </tr>
      <tr>
        <td><tt>déclencheur gauche</tt></td>
        <td>gp_épaulière</td>
      </tr>
      <tr>
        <td><tt>épaule droite</tt></td>
        <td>gp_shoulderr</td>
      </tr>
      <tr>
        <td><tt>gâchette droite</tt></td>
        <td>gp_shoulderrb</td>
      </tr>
      <tr>
        <td><tt>guide</tt></td>
        <td>gp_select</td>
      </tr>
      <tr>
        <td><tt>commencer</tt></td>
        <td>gp_start</td>
      </tr>
      <tr>
        <td><tt>manche gauche</tt></td>
        <td>gp_stickl</td>
      </tr>
      <tr>
        <td><tt>manche droit</tt></td>
        <td>gp_stickr</td>
      </tr>
      <tr>
        <td><tt>dpup</tt></td>
        <td>gp_padu</td>
      </tr>
      <tr>
        <td><tt>dpdown</tt></td>
        <td>gp_padl</td>
      </tr>
      <tr>
        <td><tt>dpleft</tt></td>
        <td>gp_padr</td>
      </tr>
      <tr>
        <td><tt>dpright</tt></td>
        <td>gp_padd</td>
      </tr>
      <tr>
        <td><tt>leftx</tt></td>
        <td>gp_axislh</td>
      </tr>
      <tr>
        <td><tt>gaucher</tt></td>
        <td>gp_axislv</td>
      </tr>
      <tr>
        <td><tt>rightx</tt></td>
        <td>gp_axisrh</td>
      </tr>
      <tr>
        <td><tt>droitier</tt></td>
        <td>gp_axisrv</td>
      </tr>
    </tbody>
  </table>
  <p><br> Lorsque vous avez construit votre chaîne de mappage, elle doit ressembler à quelque chose comme ceci :</p>
  <p class="code">&quot;050000005e040000fd020000ffff3f00,Xbox Wireless Controller,a:b0,b:b1,start:b4,dpdown:h0.4,dpleft:h0.8,dpright:h0.2,dpup:h0.1,guide:b6,leftshoulder:b9,leftstick:b7,lefttrigger:a4,leftx:a0,lefty:a1,rightshoulder:b10,rightstick:b8,righttrigger:a5,rightx:a2,righty:a3,x:b2,y:b3,platform:android&quot;</p>
  <p> </p>
  <h4>Syntaxe :</h4>
  <p class="code">gamepad_test_mapping(index, mapping_string) ;</p>
  <table>
    <tbody>
      <tr>
        <th>Arguments</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>indice</td>
        <td>Quel &quot;slot&quot; d'index de gamepad à définir.</td>
      </tr>
      <tr>
        <td>couleur</td>
        <td>La chaîne de la carte à utiliser (voir la description pour plus d'informations).</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Les retours :</h4>
  <p class="code">N/A</p>
  <p> </p>
  <h4>Exemple :</h4>
  <p class="code">var mapping = gamepad_get_guid(global.padIndex) + &quot;,&quot; + gamepad_get_description(global.padIndex) ;<br> var len = array_length(global.PadInstances) ;<br> for( i = 0 ; i &lt; len ; i += 2)<br> {
    <br> var left = global.PadInstances[i] ;<br> var right = global.PadInstances[i+1] ;<br> mapping += &quot;,&quot; + left.sdlLabel + &quot; :&quot; + right.binding ;<br> }
    <br> gamepad_test_mapping(global.padIndex, mapping) ;</p>
  <p>Le code ci-dessus passe en boucle à travers un certain nombre d'instances et utilise les valeurs des différentes variables qu'elles contiennent pour créer une chaîne de mappage, qui est ensuite définie pour être utilisée sur le gamepad dans l'indice de slot donné.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Retour : <a href="Gamepad_Input.htm">Entrée de la manette de jeu</a></div>
        <div style="float:right">Suivant : <a href="gamepad_remove_mapping.htm">gamepad_remove_mapping</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
gamepad_test_mapping
-->
  <!-- TAGS
gamepad_test_mapping
-->

</body></html>