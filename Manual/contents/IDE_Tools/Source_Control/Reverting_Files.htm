<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Rétablissement de fichiers</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Section qui couvre la restauration des fichiers de contrôle de code source" />
  <meta name="rh-index-keywords" content="Contrôle de la source - Restauration de fichiers" />
  <meta name="search-keywords" content="restaurer les fichiers" />
</head>
<body><!--<div class="body-scroll" style="top: 150px;">--><h1> Rétablissement de fichiers</h1><p> Dans les sections précédentes, vous avez vu comment <a href="Repository_Options.htm">créer un référentiel</a> et y <a href="Standard_Workflow.htm">valider des choses</a>, mais que se passe-t-il si vous faites une erreur et que vous voulez &quot;revenir&quot; à un commit précédent? Faisons une erreur délibérée et voyons comment nous pouvons y remédier alors...</p><p> Tout d&#39;abord, créez une nouvelle ressource - dans cet exemple, nous allons créer une ressource Script - et au départ, vous ne verrez aucune icône d&#39;état car en ce qui concerne le contrôle de source, il n&#39;existe pas encore. Dans la ressource de script, ajoutez une simple ligne de code, comme:</p><p class="code">show_debug_message(&quot;Hello World&quot;);</p><p> Si vous fermez maintenant l&#39;éditeur de code, le script sera enregistré et l&#39;icône du fichier modifié<img alt="SCM Modified Icon" class="icon" src="../../assets/Images/Icons/SCM_Modified.png" /> apparaîtra à côté de lui dans le <a href="../../Introduction/The_Asset_Browser.htm">navigateur de ressources</a>. Maintenant, ouvrez la <strong>fenêtre de validation</strong> et vous verrez qu&#39;il y a quatre changements par étapes, car de nouvelles ressources sont automatiquement ajoutées:</p><p><img alt="Source Control Staged Changes" class="center" src="../../assets/Images/IDE Tools/SCM_StagedChanges.png" /> Les changements par étapes seront:</p><ul class="colour"><li> le <span class="inline">.yyp</span> dossier de projet</li><li> un fichier de vue</li><li> le <span class="notranslate">GML</span> lui-même</li><li> le <span class="inline">.yy</span> fichier le référençant</li></ul><p> Vous devez taper un message de validation, puis cliquer sur le <strong>bouton Valider</strong>, comme nous l&#39;avons expliqué précédemment. Maintenant, nous retournons à notre script et changeons la ligne de code en (par exemple):</p><p class="code">show_debug_message(&quot;Hello World, how are you?&quot;);</p><p> Lorsque nous fermons l&#39;éditeur de code, à nouveau une icône rouge<img alt="SCM Modified Icon" class="icon" src="../../assets/Images/Icons/SCM_Modified.png" /> sera affiché à côté du script, mais nous avons réalisé que nous avons fait une erreur avec notre code et que nous voulons revenir à une version précédente pour le corriger (évidemment, vous pouvez simplement ouvrir le script et le corriger facilement, depuis l&#39;exemple est si simple, mais dans les grands projets, ce n&#39;est normalement pas une approche réalisable). Ce que nous devons faire, c&#39;est <strong>annuler</strong> nos changements.</p><p> Pour annuler une modification, nous devons d&#39;abord ouvrir à nouveau la fenêtre de validation, nous allons donc à nouveau dans <strong>Contrôle de la source</strong> &gt; <strong>Valider les modifications</strong>. Notre fichier modifié sera à nouveau préparé pour être validé, mais ce n&#39;est pas ce que nous voulons, nous cliquons donc sur le bouton <strong>Tout désinstaller</strong> pour le sortir de la zone de préparation.</p><p> Si nous faisons maintenant un clic droit<strong><img alt="RMB Icon" class="icon" height="24" src="../../assets/Images/Icons/Icon_RMB.png" width="21"/></strong> sur le fichier que nous avons modifié, nous obtiendrons un menu contextuel avec une option pour <strong>inverser le chemin</strong>:</p><p><img alt="Source Control Revert Path" class="center" src="../../assets/Images/IDE Tools/SCM_RevertPath.png" /> Lorsque vous sélectionnez cette option, vous rétablissez les fichiers dans leur état antérieur.</p><p class="note"> <strong>IMPORTANT!</strong> Lorsque vous revenez, vous recevrez un message vous demandant de recharger ou d&#39;enregistrer le projet en cours en raison du vérificateur de fichiers détectant les modifications sur le disque:<br/><img alt="Source Control Warning" class="center" src="../../assets/Images/IDE Tools/SCM_Warning.png" /> Vous devez appuyer sur Recharger et ne pas enregistrer, car l&#39;enregistrement sauvegardera la mémoire plutôt que de recharger les fichiers rétablis.</p><p> C&#39;est très bien lorsque vous modifiez quelque chose et que vous souhaitez revenir en arrière sans avoir déjà effectué une validation, mais qu&#39;en est-il lorsque vous avez commis une ou plusieurs modifications et que vous souhaitez revenir à une validation <em>précédente?</em> Eh bien, éditons à nouveau notre script pour dire:</p><p class="code">show_debug_message(&quot;This is a bad idea&quot;);</p><p> Maintenant, nous le validons comme avant pour le mettre sous contrôle de code source. Donc, c&#39;était une mauvaise idée et nous voulons revenir en arrière, ce qui signifie que pour commencer, nous devons ouvrir la fenêtre <strong>Contrôle de</strong> la source&gt; <strong>Afficher l&#39;historique.</strong> Ici, nous allons voir une liste de tous les commits précédents maintenant dans cette fenêtre, en commençant par le commit initial, le commit pour le script, puis le commit pour le script que nous avons édité comme une &quot;mauvaise idée&quot;:</p><p><img alt="Source Control Bad Idea History" class="center" src="../../assets/Images/IDE Tools/SCM_BadIdea.png" /> Nous avons maintenant deux choix. Nous pouvons annuler une révision entière - ce qui rétablira tous les fichiers qui ont été modifiés par ceux du commit choisi - ou nous pouvons choisir de rétablir un chemin - ce qui rétablira simplement un seul fichier. Faisons la première option pour commencer:</p><ul class="colour"><li> Clic-droit<strong><img alt="RMB Icon" class="icon" height="24" src="../../assets/Images/Icons/Icon_RMB.png" width="21"/></strong> notre deuxième commit dans le <strong>volet Commit History</strong> (le commit &quot;Hello World&quot;).</li><li> Sélectionnez <strong>Revenir à cette révision</strong>, puis choisissez <strong>Recharger</strong> dans le message d&#39;avertissement.</li></ul><p> Vous devriez voir que le script a maintenant une icône d&#39;état rouge<img alt="SCM Modified Icon" class="icon" src="../../assets/Images/Icons/SCM_Modified.png" />, et si nous l&#39;ouvrons, nous aurons ce qui suit:</p><p><img alt="Source Control Revert To Revision" class="center" src="../../assets/Images/IDE Tools/SCM_RevertToRevision.png" /> Nous pouvons alors faire un commit sur le projet et nous reviendrons là où nous en étions une fois de plus. Cependant, nous pouvons également annuler cette action pour le fichier et récupérer notre validation de &quot;mauvaise idée&quot; en procédant comme suit:</p><ul class="colour"><li> Ouvrez la fenêtre <strong>Valider les modifications.</strong></li><li> Désactivez le script contenant le code &quot;Hello World&quot;.</li><li> Clic-droit<strong><img alt="RMB Icon" class="icon" height="24" src="../../assets/Images/Icons/Icon_RMB.png" width="21"/></strong> et <strong>Revert Path</strong>.</li></ul><p> Maintenant, nous avons de nouveau le fichier erroné dans le projet! Eh bien, nous pouvons profiter de cette occasion pour restaurer uniquement ce chemin de fichier au lieu de tout restaurer à une révision précédente. Pour cela, nous devons faire ce qui suit:</p><ul class="colour"><li> Ouvrez la fenêtre <strong>Afficher l&#39;historique.</strong></li><li> Cliquez sur le deuxième commit (le commit &quot;Hello World&quot;).</li><li> Clic-droit<strong><img alt="RMB Icon" class="icon" height="24" src="../../assets/Images/Icons/Icon_RMB.png" width="21"/></strong> sur notre script <span class="notranslate">GML</span> dans le volet Fichiers et sélectionnez <strong>Revert Path</strong>.</li></ul><p> Nous devrions être de retour à avoir notre code &quot;Hello World&quot; et nous pouvons alors faire un nouveau commit pour mettre à jour à nouveau le contrôle source avec le fichier corrigé. </p><p></p><p></p><p></p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href="../Source_Control.htm">Contrôle de la source</a></div><div style="float:right"> Suivant: <a href="Cloning_A_Repository.htm">Cloner un référentiel</a></div></div></div><h5> <span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
Source Control Reverting Files
reverting files
-->
  <!-- TAGS
source_control_revert
-->
</body>
</html>