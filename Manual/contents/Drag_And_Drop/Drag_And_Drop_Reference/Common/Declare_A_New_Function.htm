<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Déclarer une nouvelle fonction</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Détail de la section Déclarer une nouvelle fonction" />
  <meta name="rh-index-keywords" content="DnD ™ - Déclarer une nouvelle fonction" />
  <meta name="search-keywords" content="Déclarer une nouvelle fonction" />
</head>
<body><!--<div class="body-scroll" style="top: 150px;">--><h1><img alt="Declare A New Function Icon" class="icon" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/i_Common_Declare_Function.png" /> Déclarer une nouvelle fonction</h1><p> Cette action peut être utilisée pour créer une nouvelle fonction définie par l&#39;utilisateur, qui peut ensuite être appelée à tout moment ultérieurement dans votre code. Une fonction définie par l&#39;utilisateur est celle que vous définissez pour effectuer une tâche qui n&#39;est pas couverte par les <span class="notranslate">DnD</span>™ ou les <span class="notranslate">GML</span>, et qui peut avoir une portée globale, d&#39;instance ou locale (voir <a href="../../../GameMaker_Language/GML_Overview/Variables_And_Variable_Scope.htm">ici</a> pour plus d&#39;informations sur la portée) et ils peuvent également être utilisés comme <b>constructeurs</b> pour créer des <a href="../../../GameMaker_Language/GML_Overview/Structs.htm">structures</a>. Pour en savoir plus sur l&#39;utilisation de cette action pour créer des fonctions globales, veuillez consulter la section sur la <a href="../../Drag_And_Drop_Overview/Action_Block_Functions.htm">création de fonctions d&#39;action</a>. Vous pouvez également marquer la fonction comme étant <b>statique</b>, ce qui signifie qu&#39;elle ne sera définie qu&#39;une seule fois lors de sa première utilisation.</p><p> Pour utiliser cette action, vous pouvez l&#39;ajouter à un événement d&#39;instance, puis donner un nom à la fonction que vous souhaitez déclarer. Vous fournissez ensuite les noms d&#39;argument requis pour chacun des paramètres que la fonction prendra. Si la fonction doit être utilisée en tant que constructeur (c&#39;est-à-dire qu&#39;elle va créer une structure), vous devez vérifier le <strong>drapeau du constructeur</strong>, puis appeler la fonction dont vous avez besoin pour utiliser l&#39;action <a href="New.htm">Nouveau.</a> Si la fonction ne doit être utilisée que localement dans le même événement et nulle part ailleurs, vous pouvez également sélectionner l&#39;indicateur <strong>Temp.</strong> Une fois que vous avez défini le nom et les paramètres, vous pouvez ajouter les actions que vous souhaitez que la fonction exécute lorsqu&#39;elle est appelée dans votre code en les déposant sur le côté de l&#39;action, comme indiqué dans l&#39;image ci-dessous:</p><p><img alt="Declare A New Function drop actions" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/drop_declare_function.png" /> Vous pouvez voir des exemples d&#39;utilisation à la fois comme fonction régulière et comme fonction constructeur ci-dessous.</p><p></p><h4> Syntaxe de l&#39;action:</h4><p><img alt="Declare A New Function Action" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/a_Common_Declare_Function.png" /></p><h4> Arguments:</h4><table><tbody><tr><th> Argument</th><th> Description</th></tr><tr><td> <span class="notranslate">Function</span></td><td> Le nom de la nouvelle fonction.</td></tr><tr><td> <span class="notranslate">Argument <em>0</em>... Argument <em>X</em></span></td><td> Les différents noms d&#39;arguments pour chacun des paramètres à transmettre à la fonction.</td></tr></tbody></table><p></p><h4> Exemple étendu 1:</h4><p><img alt="Declare A New Function Example 1" class="center" height="491" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/e_Common_Declare_Function_1.png" width="492" /> Le code de bloc d&#39;action ci-dessus ira dans l&#39; <b>événement</b> de création d&#39;une instance et déclare une nouvelle fonction <tt>set_vec</tt> avec trois arguments:<tt>_x</tt>, <tt>_y</tt> et <tt>spd</tt>. Ces arguments sont ensuite utilisés dans les actions que la fonction appellera pour définir la direction et la vitesse de l&#39;instance, lorsque la fonction est appelée. Vous appelleriez la fonction à l&#39;aide de l&#39; <a href="Function_Call.htm">action Appel de fonction</a> dans tout événement ultérieur, comme ceci:</p><p><img alt="Declare A New Function Exmaple 2" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/e_Common_Declare_Function_2.png" /> La fonction est appelée et définit la direction de l&#39;instance pour qu&#39;elle pointe vers la position X / Y de la souris, et définit la vitesse de l&#39;instance sur 5.</p><p></p><h4> Exemple étendu 2:</h4><p><img alt="Declare A New Function Exmaple 3" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/e_Common_Declare_Function_3.png" /> Le code de bloc d&#39;action ci-dessus ira probablement dans l&#39; <b>événement</b> de création d&#39;une instance et déclare une nouvelle fonction de constructeur <tt>init_char_struct</tt> avec quatre arguments:<tt>_str1</tt>, <tt>_str2</tt>, <tt>_val1</tt> et <tt>_val2</tt>. Ces arguments sont ensuite utilisés pour remplir les variables données dans la structure que la fonction crée. Vous appelleriez ensuite la fonction en utilisant l&#39; <a href="New.htm">action Nouveau</a> dans tout événement ultérieur, comme ceci:</p><p><img alt="Declare A New Function Exmaple 4" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/e_Common_Declare_Function_4.png" /> La fonction est appelée et elle retournera une nouvelle structure au tableau &quot;char&quot;, et la structure sera remplie avec les variables &quot;name&quot;, &quot;location&quot;, &quot;hp&quot; et &quot;mana&quot;, définies sur les valeurs utilisées pour le arguments correspondants dans la fonction. </p><p></p><p></p><p></p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href="Common_Actions_Library.htm">Actions courantes</a></div><div style="float:right"> Suivant: <a href="Assign_Variable.htm">Attribuer une variable</a></div></div></div><h5> <span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
Action - Declare A New Function
-->
  <!-- TAGS
action_declare_function
-->
</body>
</html>