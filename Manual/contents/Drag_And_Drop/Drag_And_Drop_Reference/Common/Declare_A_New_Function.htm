<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Déclarer une nouvelle fonction</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Section detailing Declare A New Function" />
  <meta name="rh-index-keywords" content="DnD™ Action - Declare A New Function" />
  <meta name="search-keywords" content="Declare A New Function" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>
    <img alt="Declare A New Function Icon" class="icon" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/i_Common_Declare_Function.png"> Déclarer une nouvelle fonction</h1>
  <p>Cette action peut être utilisée pour créer une nouvelle fonction définie par l'utilisateur, qui peut ensuite être appelée à tout moment plus tard dans votre code. Une fonction définie par l'utilisateur est une fonction que vous définissez pour effectuer une tâche qui n'est pas couverte par les actions DnD™ disponibles ou les fonctions du <span class="notranslate">runner</span> GML,
    et peut avoir une portée globale, d'instance ou locale (voir <a href="../../../GameMaker_Language/GML_Overview/Variables_And_Variable_Scope.htm">ici</a> pour plus d'informations sur la portée) et elles peuvent également être utilisées comme <b>constructeurs</b> pour créer des <a href="../../../GameMaker_Language/GML_Overview/Structs.htm">structs</a>.
    Pour en savoir plus sur l'utilisation de cette action pour créer des fonctions globales, veuillez consulter la section sur la <a href="../../Drag_And_Drop_Overview/Action_Block_Functions.htm">création de fonctions d'action</a>. Vous pouvez également marquer la fonction comme étant <b>statique</b>,
    ce qui signifie qu'elle ne sera définie qu'une seule fois lors de sa première utilisation.</p>
  <p>Pour utiliser cette action, vous pouvez l'ajouter à un événement d'instance, puis donner un nom à la fonction que vous souhaitez déclarer. Vous fournissez ensuite les noms des arguments requis pour chacun des paramètres que la fonction prendra. Si la fonction doit être utilisée comme un constructeur
    (c'est-à-dire qu'elle va créer une structure), vous devez cocher l'<strong>indicateur Constructor </strong>et ensuite, pour appeler la fonction, vous devez utiliser l'action New. Si la fonction ne doit être utilisée que localement dans le même
    événement et nulle part ailleurs, vous pouvez également sélectionner l'indicateur <strong>Temp </strong>. Une fois que vous avez défini le nom et les paramètres, vous pouvez ajouter les actions que vous voulez que la fonction exécute lorsqu'elle est appelée dans votre code en les déposant à côté de
    l'action, comme le montre l'image ci-dessous :</p>
  <p><img alt="Declare A New Function drop actions" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/drop_declare_function.png">Vous pouvez voir des exemples d'utilisation comme fonction régulière et comme fonction constructrice
    ci-dessous.</p>
  <p> </p>
  <h4>Syntaxe de l'action :</h4>
  <p><img alt="Declare A New Function Action" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/a_Common_Declare_Function.png" /></p>
  <h4>Arguments :</h4>
  <table>
    <tbody>
      <tr>
        <th>Arguments</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>Fonction</td>
        <td>Le nom de la nouvelle fonction.</td>
      </tr>
      <tr>
        <td>Argument0 ... ArgumentX</td>
        <td>Les différents noms d'arguments pour chacun des paramètres qui doivent être passés à la fonction.</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Exemple élargi 1 :</h4>
  <p><img alt="Declare A New Function Example 1" class="center" height="491" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/e_Common_Declare_Function_1.png" width="492">Le code du bloc d'action ci-dessus serait placé dans l'<b>événement Create</b> d'une instance, et déclare une nouvelle fonction <tt>set_vec</tt> avec trois arguments : <tt>_x</tt>, <tt>_y</tt> et <tt>spd</tt>. Ces arguments sont ensuite utilisés dans les actions que la fonction appelle pour définir la direction et la vitesse de l'instance,
    lorsque la fonction est appelée. Vous appellerez la fonction à l'aide de l'action <a href="Function_Call.htm">Function Call</a> dans tout événement ultérieur, comme ceci :</p>
  <p><img alt="Declare A New Function Exmaple 2" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/e_Common_Declare_Function_2.png">La fonction est appelée et définit la direction de l'instance pour qu'elle pointe vers la position X/Y de la souris.
    position X/Y de la souris, et fixe la vitesse de l'instance à 5.</p>
  <p> </p>
  <h4>Exemple élargi 2 :</h4>
  <p><img alt="Declare A New Function Exmaple 3" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/e_Common_Declare_Function_3.png">Le code du bloc d'action ci-dessus serait probablement placé dans l'<b>événement Create</b> d'une instance.
    une instance, et déclare une nouvelle fonction constructrice <tt>init_char_struct</tt> avec quatre arguments : <tt>_str1</tt>, <tt>_str2</tt>, <tt>_val1</tt> et <tt>_val2</tt>. Ces arguments sont ensuite utilisés pour remplir les variables données dans la structure
    que la fonction est en train de créer. Vous appellerez ensuite la fonction à l'aide de l'action <a href="New.htm">New</a> dans tout événement ultérieur, comme ceci :</p>
  <p><img alt="Declare A New Function Exmaple 4" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/e_Common_Declare_Function_4.png">La fonction est appelée et elle retournera une nouvelle struct au tableau &quot;char&quot;,
    et la structure sera remplie avec les variables &quot;name&quot;, &quot;location&quot;, &quot;hp&quot; et &quot;mana&quot;, définies avec les valeurs utilisées pour les arguments correspondants dans la fonction.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Retour : <a href="Common_Actions_Library.htm">Actions communes</a></div>
        <div style="float:right">Suivant : <a href="Assign_Variable.htm">Attribuer une variable</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
Action - Declare A New Function
-->
  <!-- TAGS
action_declare_function
-->
</body>
</html>