<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Construire un code de bloc d&#39;action</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Article expliquant comment construire DnD code DnD" />
  <meta name="rh-index-keywords" content="DnD de DnD ™ - Construction d&#39;un code de bloc d&#39;action" />
  <meta name="search-keywords" content="DnD,Code DnD,Construire DnD,Commentaires DnD" />
</head>
<body><!--<div class="body-scroll" style="top: 150px;">--><h1> Construire un code de bloc d&#39;action</h1><p> Pour ajouter des comportements à des objets, vous pouvez construire votre code à l&#39;aide d&#39; <strong>actions</strong> des différentes bibliothèques disponibles dans la <strong>boîte à outils d&#39;action</strong>. Pour commencer, vous devrez créer un <a href="../../Introduction/The_Start_Page.htm">nouveau projet de <span class="notranslate">Drag and Drop</span></a>, puis créer un nouvel <a href="../../The_Asset_Editors/Objects.htm">objet</a> (vous pouvez également attribuer un <a href="../../The_Asset_Editors/Sprites.htm">sprite</a> à l&#39;objet si nécessaire). Dans votre nouvel objet, vous pouvez commencer à ajouter<a href="../../The_Asset_Editors/Object_Properties/Object_Events.htm">events</a>, et dans les événements, ajoutez vos <span class="notranslate">DnD</span> de code DnD™.</p><p><img alt="DnD™ Create Event" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Create_Event.png" /> Notez que lorsque vous ajoutez un nouvel événement, une fenêtre &quot;code&quot; s&#39;ouvre avec un onglet pour l&#39;événement donné (voir l&#39;image ci-dessus), et vous pouvez maintenant faire glisser n&#39;importe quelle action que vous souhaitez de la boîte à outils à droite dans le volet Bloc d&#39;action de la fenêtre de code. Maintenant, s&#39;il est vrai que vous pouvez ajouter n&#39;importe quelle action, cela ne signifie pas qu&#39;elles fonctionneront toutes ou que le projet se compilera avec elles. Certaines actions nécessitent au moins une <a class="glossterm" data-glossterm="variable" href="#">variable</a> pour fonctionner, tandis que d&#39;autres - comme les <a href="../Drag_And_Drop_Reference/Drawing/Drawing_Actions.htm">actions Draw</a> - ne fonctionneront que si elles sont utilisées dans un événement spécifique. Comment savez-vous lesquels utiliser? Eh bien, en général, il s&#39;agit simplement d&#39;utiliser la logique... si une action nécessite une variable et que nous n&#39;en avons pas encore défini une, alors nous ne devrions pas l&#39;utiliser jusqu&#39;à ce que nous ayons ajouté une action pour créer la variable.</p><p> Lorsque vous faites glisser une action de la boîte à outils dans l&#39;espace de travail principal bloc d&#39; action, il sera étendu à vous montrer le disponible <a class="glossterm" data-glossterm="argument" href="#">arguments</a> <span class="glossextra">de</span> (paramètres) que vous pouvez remplir et changer pour définir le comportement. Dans l&#39;image ci-dessous, nous avons fait glisser une <a href="../Drag_And_Drop_Reference/Common/Assign_Variable.htm">action Assign Variable</a> de la <a href="../Drag_And_Drop_Reference/Common/Common_Actions_Library.htm">bibliothèque</a> Toolbox Common dans l&#39;espace de travail du bloc d&#39;action:</p><p><img alt="DnD™ Assign Variable" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Add_Var.png" /> Vous pouvez voir que la nouvelle action est également affichée à gauche de la fenêtre de code sous une forme abrégée. Cette liste d&#39;actions, appelée action Vue d&#39;ensemble, peut être cliquée pour accéder rapidement à cette action à modifier. Vous pouvez continuer à ajouter des actions à l&#39;événement si vous en avez besoin, chaque nouvelle action étant &quot;enchaînée&quot; à la précédente pour afficher le flux du <span class="notranslate">DnD</span>™ que vous construisez. Notez que la zone dans laquelle vous pouvez déposer d&#39;autres actions est mise en évidence pour vous sous l&#39;action initiale et, en fonction de l&#39;action que vous utilisez, différentes zones seront mises en surbrillance pour montrer où dans la chaîne vous pouvez l&#39;ajouter:</p><p><img alt="DnD™ Set Direction Variable" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Set_Dir.png" /> Au fur et à mesure que vous ajoutez des actions à l&#39;espace de travail, elles seront «enchaînées» aux actions ci-dessus afin que vous puissiez voir comment le <span class="notranslate">DnD</span>™ s&#39;écoule, une action menant à une autre, et le volet de présentation les affiche sous forme abrégée et dans l&#39;ordre d&#39;exécution:</p><p><img alt="DnD™ chain of actions" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Scope_Other.png" /> Certaines actions placeront le code dans une chaîne distincte loin du flux principal - des choses comme <a href="../Drag_And_Drop_Reference/Common/If_Variable.htm">If Variable</a> créeront une <em>sous-chaîne</em> d&#39;actions qui devrait se produire si les conditions correctes sont remplies avant de continuer avec la chaîne principale:</p><p><img alt="DnD™ side chain of actions" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_If_Variable.png" /> Notez que lorsque vous utilisez des actions qui peuvent avoir un bloc de chaîne latérale comme celui-ci, l&#39;action aura <em>deux</em> zones en surbrillance pour supprimer d&#39;autres actions:</p><ul class="colour"><li> Un en dessous de l&#39;action comme d&#39;habitude</li><li> Un à droite de l&#39;action pour indiquer que vous souhaitez créer un bloc d&#39;actions distinct à exécuter lorsque la condition de la première action retourne true</li></ul><p><img alt="DnD™ Side Chain Of Actions" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_If_Drop.png" /> Vous pouvez modifier la position des actions dans la chaîne en cliquant simplement sur<img alt="LMB Icon" class="icon" height="24"
      src="../../assets/Images/Icons/Icon_LMB.png" width="21" /> et faites-les glisser dans la nouvelle position dont vous avez besoin, et si vous faites un clic<img alt="LMB Icon" class="icon" height="24" src="../../assets/Images/Icons/Icon_LMB.png" width="21" /> et maintenez pendant une seconde puis déplacez la souris, vous pouvez déplacer l&#39;action dans l&#39;espace de travail tout en conservant sa place dans la chaîne de blocs d&#39;action.</p><p> Il est également possible d&#39;ajouter des <strong>commentaires</strong> aux <span class="notranslate">Drag and Drop</span>™, de sorte que vous pouvez laisser des notes à côté de différents blocs pour expliquer ce qu&#39;ils font (ce qui est particulièrement utile lorsque vous travaillez en équipe):</p><p><img alt="DnD™ Add Comment" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Add_Comment.gif" /> Vous pouvez en savoir plus sur cette fonctionnalité à partir de la page du <a href="Right_Mouse_Button_Menu_Options.htm">menu du bouton droit de la souris</a>.</p><p> Ce sont les bases de l&#39;utilisation de l&#39; <span class="notranslate">Drag and Drop</span>, mais d&#39;autres détails importants sont expliqués dans les sections ci-dessous:</p><p></p><p> <a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down1" href="#">Variables cibles</a></p><div class="droptext" data-targetname="drop-down1"><p class="dropspot"> Il est important de noter que de nombreuses actions proposent une variable &quot;cible&quot;, qui peut être signalée comme &quot;Temporaire&quot;, par exemple:</p><p class="dropspot"><img alt="Example Of Target" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Audio_Get_Audio_Volume.png" /> Cela signifie que vous pouvez fournir une variable qui est la cible pour contenir la valeur renvoyée par l&#39;action. Dans l&#39;exemple d&#39;action ci-dessus, l&#39;action renverra le volume de la ressource audio que vous sélectionnez, de sorte que vous fournissez une variable cible pour contenir cette valeur afin que vous puissiez la référencer plus tard.</p><p class="dropspot"> Maintenant, cette variable cible devra avoir été déclarée auparavant soit en utilisant <a href="../Drag_And_Drop_Reference/Common/Assign_Variable.htm">Assign Variable</a> (qui crée une <strong>variable d&#39;instance</strong> ) ou <a href="../Drag_And_Drop_Reference/Common/Declare_Temporary_Variable.htm">Declare Temporary Variable</a> (qui crée une <strong>variable temporaire locale</strong> ) Si vous cochez l&#39;option &quot;Temp&quot;, vous pouvez simplement ajouter un nom de la variable et l&#39;action créera cette variable et la définira pour qu&#39;elle contienne la valeur de retour pour vous (création d&#39;une variable locale temporaire). Toutes les actions utilisées par la suite peuvent désormais accéder à la valeur de la variable temporaire, <strong>mais uniquement dans le même événement ou script</strong>. Les variables temporaires ne sont disponibles que dans la portée où elles ont été créées. Pour plus d&#39;informations sur les variables et la portée des variables, veuillez consulter <a href="../../GameMaker_Language/GML_Overview/Variables_And_Variable_Scope.htm">ici</a>.</p><p class="dropspot"></p></div><p> <a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down2" href="#">Portée de l&#39;action</a></p><div class="droptext" data-targetname="drop-down2"><p class="dropspot"> Non seulement les variables ont des étendues (voir la <strong>section Variables cibles</strong> ci-dessus), mais les actions peuvent également avoir des étendues différentes. En fait, presque toutes les actions peuvent avoir une portée différente pour travailler, définie dans la fenêtre déroulante ouverte dans l&#39;action elle-même, comme indiqué ici:</p><p class="dropspot"><img alt="DnD™ Applies To" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Applies_To.png" /> Vous pouvez également définir la portée de toutes les autres actions à l&#39;aide de l&#39;action spéciale <a href="../Drag_And_Drop_Reference/Common/Apply_To...htm">Appliquer à</a>. Pour plus d&#39;informations sur cette fonctionnalité des <span class="notranslate">DnD</span>™, veuillez cliquer ici:</p><ul class="dropspotlist"><li class="dropspot"> <a href="Applying_Actions_To_Other_Instances.htm">Application d&#39;actions à d&#39;autres instances</a></li></ul><p class="dropspot"></p></div><p> <a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down3" href="#">Saisie automatique</a></p><div class="droptext" data-targetname="drop-down3"><p class="dropspot"> Lorsque vous travaillez avec le <span class="notranslate">Drag and Drop</span> vous devrez ajouter des variables et des expressions dans les différents champs de saisie des actions. Cependant, en faisant cela, la <strong>fenêtre Auto Complete</strong> apparaîtra souvent pour vous aider:</p><p class="dropspot"><img alt="Auto Complete" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Action_AutoComplete.png" /> Cette fenêtre contextuelle répertorie toutes les <span class="notranslate">GML</span> ( <span class="notranslate">GameMaker Language</span> ) intégrées, ainsi que toutes les ressources contenant les lettres initiales de ce que vous avez tapé. Il peut être utilisé pour trouver rapidement la ressource ou la variable que vous souhaitez pour l&#39;action sans avoir à tout taper vous-même. Par exemple, si toutes vos pièces ont le préfixe &quot;<span class="inline">rm_</span> &quot;puis en tapant cela et en attendant un moment, la fenêtre de saisie semi-automatique avec tous les éléments commençant par&quot;<span class="inline">rm_</span> &quot;. Notez que toutes les variables intégrées qui sont affichées dans la fenêtre de saisie semi-automatique peuvent être utilisées partout où une variable ou une expression est attendue dans une action, comme la plupart des fonctions <span class="notranslate">GML</span></p><p class="dropspot"></p></div><p> <a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down4" href="#">Expansion de l&#39;action</a></p><div class="droptext" data-targetname="drop-down4"><p class="dropspot"> Parfois, lorsque vous utilisez une action, vous verrez une petite icône plus<img alt="Expand Arguments Icon" src="../../assets/Images/Icons/Icon_Expand_Arguments.png" /> sur le côté. Cela signifie que vous pouvez développer l&#39;action pour effectuer des tâches supplémentaires ou prendre d&#39;autres arguments. Par exemple, si vous regardez l&#39; <a href="../Drag_And_Drop_Reference/Common/Declare_Temporary_Variable.htm">action Déclarer les variables temporaires</a>, vous pouvez voir qu&#39;elle a cette icône:</p><p class="dropspot"><img alt="Temp Variable Expansion" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Declare_Temp_Var.png" /> Lorsque vous cliquez sur l&#39;icône, l&#39;action se <em>développe</em> et vous permet de déclarer plus de variables, ce qui facilite et accélère la définition de plusieurs variables en même temps.</p><p class="dropspot"><img alt="Temp Variable Expansion Example" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Expansion_Example.png" /> L&#39;icône peut également être utilisée pour les actions qui nécessitent <strong>des</strong> arguments facultatifs, comme l&#39; <a href="../Drag_And_Drop_Reference/Random/Choose.htm">action Choisir</a>, qui vous permet d&#39;ajouter différentes valeurs différentes à renvoyer: </p><p class="dropspot"><img alt="Choose Expansion Example" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Mathematics_Choose.png" /></p></div><p></p><p></p><p></p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Retour: <a href="../../Content.htm">Index</a></div><div style="float:right"> Suivant: <a href="Applying_Actions_To_Other_Instances.htm">Application d&#39;actions à d&#39;autres instances</a></div></div></div><h5> <span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
Drag And Drop Construction
-->
  <!-- TAGS
drag_and_drop_construction
-->
</body>
</html>